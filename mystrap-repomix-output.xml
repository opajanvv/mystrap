This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.claude/
  commands/
    test.md
  settings.local.json
dotfiles/
  alacritty/
    .config/
      alacritty/
        alacritty.toml
  chrome/
    .local/
      bin/
        chrome
  claude/
    .claude/
      commands/
        git-commit.md
      CLAUDE.md
      settings.json
  discord/
    .config/
      discord/
        Preferences
        settings.json
  fastfetch/
    .config/
      fastfetch/
        config.jsonc
  git/
    .config/
      git/
        config
  hypr/
    .config/
      hypr/
        autostart.conf
        hypridle.conf
        hyprlock.conf
        hyprsunset.conf
        workspaces-dual.conf
        workspaces-single.conf
    .local/
      bin/
        hypr-switch
  nvim/
    .config/
      nvim/
        lua/
          config/
            autocmds.lua
            keymaps.lua
            lazy.lua
            options.lua
          plugins/
            all-themes.lua
            disable-news-alert.lua
            example.lua
            omarchy-theme-hotreload.lua
            snacks-animated-scrolling-off.lua
        plugin/
          after/
            transparency.lua
        .gitignore
        .neoconf.json
        init.lua
        lazyvim.json
        LICENSE
        README.md
        stylua.toml
  omarchy/
    .config/
      omarchy/
        branding/
          screensaver.txt
  OpenSCAD/
    .config/
      OpenSCAD/
        OpenSCAD.conf
  OrcaSlicer/
    .config/
      OrcaSlicer/
        OrcaSlicer.conf
  shell/
    .bashrc
  ssh/
    .ssh/
      encrypted/
        github.age
        gitlab.age
      config
      github.pub
      gitlab.pub
  teamviewer/
    .config/
      teamviewer/
        client.conf
  walker/
    .config/
      .config/
        config.toml
  waybar/
    .config/
      waybar/
        config.jsonc
        style.css
hosts/
  laptop1/
    dotfiles/
      hypr/
        .config/
          hypr/
            hypr-switch.conf
    overrides.conf
  laptop2/
    dotfiles/
      hypr/
        .config/
          hypr/
            hypr-switch.conf
    overrides.conf
install/
  cronie.sh
  google-chrome.sh
  hyprland.sh
  orca-slicer-bin.sh
  systemd.sh
  ttyd.sh
scripts/
  cleanup.sh
  helpers.sh
  install_claude_code.sh
  install_cron.sh
  install_dotfiles.sh
  install_overrides.sh
  install_packages.sh
  install_ssh.sh
  remove_files.sh
  setup_cleanup.sh
  setup_cloud.sh
  setup_passwordless_sudo.sh
  setup_rclone.sh
  setup_ssh.sh
  uninstall_packages.sh
.gitignore
CLAUDE.md
install_all.sh
overrides.conf
packages.txt
README.md
remove_files.txt
SETUP.md
SSH.md
stow.txt
uninstall.txt
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".claude/settings.local.json">
{
  "permissions": {
    "allow": [
      "Bash(chmod:*)",
      "Bash(sh:*)",
      "Bash(ls:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "WebFetch(domain:opa.janvv.nl)",
      "Bash(stow:*)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "Bash(mkdir:*)",
      "Bash(shellcheck:*)",
      "Bash(. ./scripts/helpers.sh)",
      "Bash(log \"Test message\")",
      "Bash(warn \"Test warning\")",
      "Bash(git rm:*)",
      "Bash(fc-list:*)",
      "Bash(pacman -Qo:*)",
      "Bash(yay -Q:*)",
      "Bash(pactree:*)",
      "Bash(yay -Qi:*)",
      "Bash(git reset:*)",
      "Bash(cat:*)",
      "Bash(git pull:*)",
      "Bash(git -C /home/jan/dev/mystrap status:*)",
      "Bash(git -C /home/jan/dev/mystrap diff)",
      "Bash(git -C /home/jan/dev/mystrap log --oneline -5)",
      "Bash(git -C /home/jan/dev/mystrap add packages.txt stow.txt dotfiles/OpenSCAD/)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nAdd OpenSCAD package and dotfiles\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /home/jan/dev/mystrap push)",
      "Bash(for pkg in alacritty discord fastfetch neovim rclone teamviewer walker)",
      "Bash(do echo -n \"$pkg: \")",
      "Bash(done)",
      "Bash(git -C /home/jan/dev/mystrap add dotfiles/mc/.config/mc/ini)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nUpdate mc panelize order\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /home/jan/dev/mystrap add packages.txt stow.txt dotfiles/alacritty/ dotfiles/discord/ dotfiles/fastfetch/ dotfiles/nvim/ dotfiles/rclone/ dotfiles/teamviewer/ dotfiles/walker/)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nAdd dotfiles for alacritty, discord, fastfetch, nvim, rclone, teamviewer, walker\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(age:*)",
      "Bash(rm:*)",
      "Bash(git -C /home/jan/dev/mystrap log --oneline -3)",
      "Bash(git -C /home/jan/dev/mystrap log:*)",
      "Bash(git -C /home/jan/dev/mystrap rm:*)",
      "Bash(git -C /home/jan/dev/mystrap add dotfiles/rclone/.config/rclone/rclone.conf.age scripts/setup_rclone.sh)",
      "Bash(git -C /home/jan/dev/mystrap commit --amend --no-edit)",
      "Bash(git -C /home/jan/dev/mystrap show --name-only 71ca160)",
      "Bash(git -C /home/jan/dev/mystrap add install_all.sh)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nAdd auto-sync for local dotfile changes\n\nAutomatically commits and pushes local dotfile edits before pulling,\nenabling seamless config sync across homelab machines.\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(crontab -l:*)",
      "Bash(rclone bisync --help:*)",
      "Bash(git -C /home/jan/dev/mystrap diff --stat)",
      "Bash(git -C /home/jan/dev/mystrap add scripts/setup_cloud.sh)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nAdd setup_cloud.sh for rclone bisync initialization\n\nOne-time setup script for Google Drive sync:\n- Creates ~/Cloud directories\n- Runs initial --resync (remote ‚Üí local) with retry logic\n- Installs bisync cron jobs only after successful sync\n- Safe to re-run: skips already-initialized remotes\n- Recovers gracefully if marker files are lost\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /home/jan/dev/mystrap add SETUP.md)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nUpdate SETUP.md with rclone and cloud sync steps\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /home/jan/dev/mystrap diff dotfiles/mc/.config/mc/ini)",
      "Bash(git -C /home/jan/dev/janstrap add README.md)",
      "Bash(git -C /home/jan/dev/janstrap commit -m \"$(cat <<''EOF''\nAdd link to mystrap as working example\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C /home/jan/dev/janstrap push)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nRemove Omarchy-managed theme.lua symlink from nvim dotfiles\n\nThis absolute symlink was causing stow to fail. Omarchy manages\nthis file dynamically to point to the current theme''s neovim config.\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(./install_all.sh:*)",
      "Bash(echo:*)",
      "Bash(git -C /home/jan/dev/mystrap add:*)",
      "Bash(git -C /home/jan/dev/mystrap commit -m \"$(cat <<''EOF''\nAdd --no-folding to stow to prevent directory-level symlinks\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
</file>

<file path="dotfiles/waybar/.config/waybar/config.jsonc">
{
  "reload_style_on_change": true,
  "layer": "top",
  "position": "top",
  "spacing": 0,
  "height": 26,
  "modules-left": ["custom/omarchy", "hyprland/workspaces"],
  "modules-center": ["clock", "custom/update", "custom/screenrecording-indicator"],
  "modules-right": [
    "tray",
    "bluetooth",
    "network",
    "pulseaudio",
    "cpu",
    "battery"
  ],
    "hyprland/workspaces": {
    "all-outputs": false,
    "sort-by-number": true,
    "disable-scroll": true,
    "on-click": "activate",
    "format": "{icon}",
  },
  "custom/omarchy": {
    "format": "<span font='omarchy'>\ue900</span>",
    "on-click": "omarchy-menu",
    "on-click-right": "xdg-terminal-exec",
    "tooltip-format": "Omarchy Menu\n\nSuper + Alt + Space"
  },
  "custom/update": {
    "format": "ÔÄ°",
    "exec": "omarchy-update-available",
    "on-click": "omarchy-launch-floating-terminal-with-presentation omarchy-update",
    "tooltip-format": "Omarchy update available",
    "signal": 7,
    "interval": 3600
  },

  "cpu": {
    "interval": 5,
    "format": "Û∞çõ",
    "on-click": "omarchy-launch-or-focus-tui btop"
  },
  "clock": {
    "format": "{:L%A %H:%M}",
    "format-alt": "{:L%d %B W%V %Y}",
    "tooltip": false,
    "on-click-right": "omarchy-launch-floating-terminal-with-presentation omarchy-tz-select"
  },
  "network": {
    "format-icons": ["Û∞§Ø", "Û∞§ü", "Û∞§¢", "Û∞§•", "Û∞§®"],
    "format": "{icon}",
    "format-wifi": "{icon}",
    "format-ethernet": "Û∞ÄÇ",
    "format-disconnected": "Û∞§Æ",
    "tooltip-format-wifi": "{essid} ({frequency} GHz)\n‚á£{bandwidthDownBytes}  ‚á°{bandwidthUpBytes}",
    "tooltip-format-ethernet": "‚á£{bandwidthDownBytes}  ‚á°{bandwidthUpBytes}",
    "tooltip-format-disconnected": "Disconnected",
    "interval": 3,
    "spacing": 1,
    "on-click": "omarchy-launch-wifi"
  },
  "battery": {
    "format": "{capacity}% {icon}",
    "format-discharging": "{icon}",
    "format-charging": "{icon}",
    "format-plugged": "Ôá¶",
    "format-icons": {
      "charging": ["Û∞¢ú", "Û∞ÇÜ", "Û∞Çá", "Û∞Çà", "Û∞¢ù", "Û∞Çâ", "Û∞¢û", "Û∞Çä", "Û∞Çã", "Û∞ÇÖ"],
      "default": ["Û∞Å∫", "Û∞Åª", "Û∞Åº", "Û∞ÅΩ", "Û∞Åæ", "Û∞Åø", "Û∞ÇÄ", "Û∞ÇÅ", "Û∞ÇÇ", "Û∞Åπ"]
    },
    "format-full": "Û∞ÇÖ",
    "tooltip-format-discharging": "{power:>1.0f}W‚Üì {capacity}%",
    "tooltip-format-charging": "{power:>1.0f}W‚Üë {capacity}%",
    "interval": 5,
    "on-click": "omarchy-menu power",
    "states": {
      "warning": 20,
      "critical": 10
    }
  },
  "bluetooth": {
    "format": "Ôäî",
    "format-disabled": "Û∞Ç≤",
    "format-off": "Û∞Ç≤",
    "format-connected": "Û∞Ç±",
    "format-no-controller": "",
    "tooltip-format": "Devices connected: {num_connections}",
    "on-click": "omarchy-launch-bluetooth"
  },
  "pulseaudio": {
    "format": "{icon}",
    "on-click": "omarchy-launch-or-focus-tui wiremix",
    "on-click-right": "pamixer -t",
    "tooltip-format": "Playing at {volume}%",
    "scroll-step": 5,
    "format-muted": "Óª®",
    "format-icons": {
      "default": ["ÔÄ¶", "ÔÄß", "ÔÄ®"]
    }
  },
  "group/tray-expander": {
    "orientation": "inherit",
    "drawer": {
      "transition-duration": 600,
      "children-class": "tray-group-item"
    },
    "modules": ["custom/expand-icon", "tray"]
  },
  "custom/expand-icon": {
    "format": "ÔÇã ",
    "tooltip": false
  },
  "custom/screenrecording-indicator": {
    "on-click": "omarchy-cmd-screenrecord",
    "exec": "$OMARCHY_PATH/default/waybar/indicators/screen-recording.sh",
    "signal": 8,
    "return-type": "json"
  },
  "tray": {
    "icon-size": 12,
    "spacing": 12
  }
}
</file>

<file path="dotfiles/waybar/.config/waybar/style.css">
@import "../omarchy/current/theme/waybar.css";

* {
  background-color: @background;
  color: @foreground;

  border: none;
  border-radius: 0;
  min-height: 0;
  font-family: 'CaskaydiaMono Nerd Font';
  font-size: 12px;
}

.modules-left {
  margin-left: 8px;
}

.modules-right {
  margin-right: 8px;
}

#workspaces button {
  all: initial;
  padding: 0 6px;
  margin: 0 1.5px;
  min-width: 9px;
  opacity: 0.5;
}

#workspaces button.visible,
#workspaces button.active {
  font-weight: bold;
  opacity: 1;
}

#cpu,
#battery,
#pulseaudio,
#custom-omarchy,
#custom-screenrecording-indicator,
#custom-update {
  min-width: 12px;
  margin: 0 7.5px;
}

#tray {
  margin-right: 16px;
}

#bluetooth {
  margin-right: 17px;
}

#network {
  margin-right: 13px;
}

#custom-expand-icon {
  margin-right: 18px;
}

tooltip {
  padding: 2px;
}

#custom-update {
  font-size: 10px;
}

#clock {
  margin-left: 8.75px;
}

.hidden {
  opacity: 0;
}

#custom-screenrecording-indicator {
  min-width: 12px;
  margin-left: 8.75px;
  font-size: 10px;
}

#custom-screenrecording-indicator.active {
  color: #a55555;
}
</file>

<file path="install/google-chrome.sh">
#!/bin/sh
# Post-install script for google-chrome
# Sets Chrome as the default web browser and configures xdg-mime associations

set -eu

# Set Chrome as default browser using xdg-settings
xdg-settings set default-web-browser google-chrome.desktop

# Set xdg-mime associations for common web MIME types
xdg-mime default google-chrome.desktop text/html
xdg-mime default google-chrome.desktop application/xhtml+xml
xdg-mime default google-chrome.desktop x-scheme-handler/http
xdg-mime default google-chrome.desktop x-scheme-handler/https
</file>

<file path=".gitignore">
repomix-output.xml
</file>

<file path=".claude/commands/test.md">
Run `./install_all.sh --offline` and analyze the output.

Report whether the installation completed successfully or not. Look for:
- Any `[WARN]` or `[ERROR]` messages
- Any "failed" or "aborted" messages
- Exit code

If there are failures or warnings, explain what went wrong and suggest a fix.
</file>

<file path="dotfiles/alacritty/.config/alacritty/alacritty.toml">
general.import = [ "~/.config/omarchy/current/theme/alacritty.toml" ]

[env]
TERM = "xterm-256color"

[font]
normal = { family = "CaskaydiaMono Nerd Font", style = "Regular" }
bold = { family = "CaskaydiaMono Nerd Font", style = "Bold" }
italic = { family = "CaskaydiaMono Nerd Font", style = "Italic" }
size = 9

[window]
padding.x = 14
padding.y = 14
decorations = "None"

[keyboard]
bindings = [
{ key = "F11", action = "ToggleFullscreen" },
{ key = "Insert", mods = "Shift", action = "Paste" },
{ key = "Insert", mods = "Control", action = "Copy" }
]
</file>

<file path="dotfiles/chrome/.local/bin/chrome">
#!/bin/bash
# Description: Launches a new window for a specified Chrome profile and forces it 
#              to the current Hyprland workspace to avoid focus-stealing.

# --- Configuration ---
# The profile folder name (e.g., 'Default', 'Profile 1') must be passed as argument $1
PROFILE_FOLDER="$1"
WINDOW_CLASS="Google-chrome"

# Exit if no profile is specified
if [ -z "$PROFILE_FOLDER" ]; then
    echo "Error: Profile folder name is required as an argument."
    exit 1
fi

# 1. Launch a new window for the specified profile in the background
google-chrome-stable --profile-directory="$PROFILE_FOLDER" --new-window &

# 2. Dynamic Wait: Check for the new window to appear (Max 1 second wait)
MAX_TRIES=10
COUNT=0
WINDOW_ADDRESS=""

while [ "$COUNT" -lt "$MAX_TRIES" ]; do
    # Find the address of the newest window matching the class
    # head -n 1 gets the first (and usually newest) matching window
    WINDOW_ADDRESS=$(hyprctl clients -j | jq -r ".[] | select(.class == \"$WINDOW_CLASS\") | .address" | head -n 1)

    if [ -n "$WINDOW_ADDRESS" ]; then
        break
    fi

    sleep 0.1 # Wait 100ms
    COUNT=$((COUNT + 1))
done

# 3. Pull the found window to the current workspace using its unique address
if [ -n "$WINDOW_ADDRESS" ]; then
    # Remove the leading '0x' for the dispatch command format
    CLEAN_ADDRESS=$(echo "$WINDOW_ADDRESS" | sed 's/^0x//')
    # Use 'address:' to target the specific new window
    hyprctl dispatch "movetoworkspace current,address:$CLEAN_ADDRESS"
fi
</file>

<file path="dotfiles/claude/.claude/commands/git-commit.md">
do a git add and git commit. Use a concise commit message, not longer than a single line.
</file>

<file path="dotfiles/claude/.claude/CLAUDE.md">
- when running git-commit: if you find changes that I forgot to commit earlier, then do not merge them into the current commit. Check with git diff what has been changed and make a separate commit for it.
</file>

<file path="dotfiles/claude/.claude/settings.json">
{
  "alwaysThinkingEnabled": true,
  "model": "opus"
}
</file>

<file path="dotfiles/discord/.config/discord/Preferences">
{"browser":{"enable_spellchecking":true},"electron":{"media":{"device_id_salt":"962B73660B51B749A64373C8A40FE965"}},"migrated_user_scripts_toggle":true,"spellcheck":{"dictionaries":["en-GB"],"dictionary":""}}
</file>

<file path="dotfiles/discord/.config/discord/settings.json">
{
  "SKIP_HOST_UPDATE": true,
  "offloadAdmControls": true,
  "enableHardwareAcceleration": false,
  "chromiumSwitches": {},
  "IS_MAXIMIZED": true,
  "IS_MINIMIZED": false,
  "BACKGROUND_COLOR": "#121214",
  "WINDOW_BOUNDS": {
    "x": 1932,
    "y": 38,
    "width": 1896,
    "height": 1030
  }
}
</file>

<file path="dotfiles/fastfetch/.config/fastfetch/config.jsonc">
{
  "$schema": "https://github.com/fastfetch-cli/fastfetch/raw/dev/doc/json_schema.json",
  "logo": {
    "type": "file",
    "source": "~/.config/omarchy/branding/about.txt",
    "color": { "1": "green" },
    "padding": {
      "top": 2,
      "right": 6,
      "left": 2
    }
  },
  "modules": [
    "break",
    {
      "type": "custom",
      "format": "\u001b[90m‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄHardware‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê"
    },
    {
      "type": "host",
      "key": "ÔÑâ PC",
      "keyColor": "green"
    },
    {
      "type": "cpu",
      "key": "‚îÇ ‚îúÔíº",
      "showPeCoreCount": true,
      "keyColor": "green"
    },
    {
      "type": "gpu",
      "key": "‚îÇ ‚îúÓâ¶",
      "detectionMethod": "pci",
      "keyColor": "green"
    },
    {
      "type": "display",
      "key": "‚îÇ ‚îúÛ±ÑÑ",
      "keyColor": "green"
    },
    {
      "type": "disk",
      "key": "‚îÇ ‚îúÛ∞ãä",
      "keyColor": "green"
    },
    {
      "type": "memory",
      "key": "‚îÇ ‚îúÓøÖ",
      "keyColor": "green"
    },
    {
      "type": "swap",
      "key": "‚îî ‚îîÛ∞ì° ",
      "keyColor": "green"
    },
    {
      "type": "custom",
      "format": "\u001b[90m‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
    },
    "break",
    {
      "type": "custom",
      "format": "\u001b[90m‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄSoftware‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê"
    },
    {
      "type": "command",
      "key": "\ue900 OS",
      "keyColor": "blue",
      "text": "version=$(omarchy-version); echo \"Omarchy $version\""
    },
    {
      "type": "command",
      "key": "‚îÇ ‚îúÛ∞ò¨",
      "keyColor": "blue",
      "text": "branch=$(omarchy-version-branch); echo \"$branch\""
    },
    {
      "type": "command",
      "key": "‚îÇ ‚îúÛ∞î´",
      "keyColor": "blue",
      "text": "channel=$(omarchy-version-channel); echo \"$channel\""
    },
    {
      "type": "kernel",
      "key": "‚îÇ ‚îúÔÄì",
      "keyColor": "blue"
    },
    {
      "type": "wm",
      "key": "‚îÇ ‚îúÔíà",
      "keyColor": "blue"
    },
    {
      "type": "de",
      "key": "Ôíà DE",
      "keyColor": "blue"
    },
    {
      "type": "terminal",
      "key": "‚îÇ ‚îúÔíâ",
      "keyColor": "blue"
    },
    {
      "type": "packages",
      "key": "‚îÇ ‚îúÛ∞èñ",
      "keyColor": "blue"
    },
    {
      "type": "wmtheme",
      "key": "‚îÇ ‚îúÛ∞âº",
      "keyColor": "blue"
    },
    {
      "type": "command",
      "key": "‚îÇ ‚îúÛ∞∏å",
      "keyColor": "blue",
      "text": "theme=$(omarchy-theme-current); echo -e \"$theme \\e[38m‚óè\\e[37m‚óè\\e[36m‚óè\\e[35m‚óè\\e[34m‚óè\\e[33m‚óè\\e[32m‚óè\\e[31m‚óè\""
    },
    {
      "type": "terminalfont",
      "key": "‚îî ‚îîÔÄ±",
      "keyColor": "blue"
    },
    {
      "type": "custom",
      "format": "\u001b[90m‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
    },
    "break",
    {
      "type": "custom",
      "format": "\u001b[90m‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄAge / Uptime / Update‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê"
    },
    {
      "type": "command",
      "key": "Û±¶ü OS Age",
      "keyColor": "magenta",
      "text": "birth_install=$(stat -c %W /); current=$(date +%s); time_progression=$((current - birth_install)); days_difference=$((time_progression / 86400)); echo $days_difference days"
    },
    {
      "type": "uptime",
      "key": "Û±´ê Uptime",
      "keyColor": "magenta"
    },
    {
      "type": "command",
      "key": "Ó¨© Update",
      "keyColor": "magenta",
      "text": "updated=$(omarchy-version-pkgs); echo \"$updated\""
    },
    {
      "type": "custom",
      "format": "\u001b[90m‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò"
    },
    "break"
  ]
}
</file>

<file path="dotfiles/git/.config/git/config">
# Merged git configuration
# Based on Omarchy defaults + https://opa.janvv.nl/blog/2025-10-12-gitconfig

[color "status"]
	changed = red bold
	untracked = red bold
	added = green bold

[core]
	autocrlf = input
	editor = nvim

[alias]
	co = checkout
	br = branch
	ci = commit
	st = status
	cm = "!f() { git add -A . && git status && echo 'Proceed with commit? (y/n)' && read ans && [ \"$ans\" = 'y' ] && git commit -m \"$*\" && git push; }; f"
	nbr = "!f() { git checkout -b $1 && git push -u origin $1; }; f"
	rmbr = "!f() { if [ \"$(git symbolic-ref --short HEAD)\" = \"$1\" ]; then echo 'Cannot delete the current branch. Please switch to a different branch first.'; else git branch --list $1 && echo 'Delete branch $1? (y/n)' && read ans && [ \"$ans\" = 'y' ] && git branch -d $1 && (git ls-remote --exit-code --heads origin $1 > /dev/null 2>&1 && git push origin --delete $1 || echo 'Remote branch not found, only local branch deleted'); fi; }; f"

[init]
	defaultBranch = main

[pull]
	rebase = true

[push]
	autoSetupRemote = true

[diff]
	algorithm = histogram
	colorMoved = plain
	mnemonicPrefix = true

[commit]
	verbose = true

[column]
	ui = auto

[branch]
	sort = -committerdate

[tag]
	sort = -version:refname

[rerere]
	enabled = true
	autoupdate = true

[user]
	name = Jan van Veldhuizen
	email = jan@janvv.nl
</file>

<file path="dotfiles/hypr/.config/hypr/autostart.conf">
# Extra autostart processes
exec-once = uwsm app -- hyprsunset
</file>

<file path="dotfiles/hypr/.config/hypr/hypridle.conf">
general {
    lock_cmd = omarchy-lock-screen                         # lock screen and 1password
    before_sleep_cmd = loginctl lock-session               # lock before suspend.
    after_sleep_cmd = hyprctl dispatch dpms on             # to avoid having to press a key twice to turn on the display.
    inhibit_sleep = 3                                      # wait until screen is locked
}

listener {
    timeout = 300                                             # 5min
    on-timeout = pidof hyprlock || omarchy-launch-screensaver # start screensaver (if we haven't locked already)
}

listener {
    timeout = 900                      # 15min
    on-timeout = loginctl lock-session # lock screen when timeout has passed
}

listener {
    timeout = 1020                                           # 17min (2min after lock)
    on-timeout = hyprctl dispatch dpms off                   # screen off when timeout has passed
    on-resume = hyprctl dispatch dpms on && brightnessctl -r # screen on when activity is detected
}
</file>

<file path="dotfiles/hypr/.config/hypr/hyprlock.conf">
source = ~/.config/omarchy/current/theme/hyprlock.conf

background {
    monitor =
    color = $color
    path = ~/.config/omarchy/current/background
    blur_passes = 3
}

animations {
    enabled = false
}

input-field {
    monitor =
    size = 650, 100
    position = 0, 0
    halign = center
    valign = center

    inner_color = $inner_color
    outer_color = $outer_color
    outline_thickness = 4

    font_family = CaskaydiaMono Nerd Font
    font_color = $font_color

    placeholder_text = Enter Password
    check_color = $check_color
    fail_text = <i>$FAIL ($ATTEMPTS)</i>

    rounding = 0
    shadow_passes = 0
    fade_on_empty = false
}

auth {
    fingerprint:enabled = true
}
</file>

<file path="dotfiles/hypr/.config/hypr/hyprsunset.conf">
# Nightlight configuration - automatic blue light filter
# Normal colors during the day, warm colors at night

profile {
    time = 07:00
    identity = true  # Normal colors (no filter)
}

profile {
    time = 22:00
    temperature = 4000  # Moderate warmth for nighttime
}
</file>

<file path="dotfiles/hypr/.config/hypr/workspaces-dual.conf">
# split-monitor-workspaces ‚Äî dual (4 per monitor)
exec-once = hyprpm reload -n
plugin {
  split-monitor-workspaces {
    count = 4
    keep_focused = 1
    enable_persistent_workspaces = 1
    enable_notifications = 1
    enable_wrapping = 1
  }
}

# guardrails: disable Super+9/0 (and shift)
unbind = SUPER,       code:18
unbind = SUPER,       code:19
unbind = SUPER SHIFT, code:18
unbind = SUPER SHIFT, code:19

# Focus: WS1‚Äì4 on mon0, WS5‚Äì8 on mon1 (as local 1‚Äì4)
bind = SUPER, code:10, exec, hyprctl dispatch focusmonitor 0; hyprctl dispatch split-workspace 1
bind = SUPER, code:11, exec, hyprctl dispatch focusmonitor 0; hyprctl dispatch split-workspace 2
bind = SUPER, code:12, exec, hyprctl dispatch focusmonitor 0; hyprctl dispatch split-workspace 3
bind = SUPER, code:13, exec, hyprctl dispatch focusmonitor 0; hyprctl dispatch split-workspace 4
bind = SUPER, code:14, exec, hyprctl dispatch focusmonitor 1; hyprctl dispatch split-workspace 1
bind = SUPER, code:15, exec, hyprctl dispatch focusmonitor 1; hyprctl dispatch split-workspace 2
bind = SUPER, code:16, exec, hyprctl dispatch focusmonitor 1; hyprctl dispatch split-workspace 3
bind = SUPER, code:17, exec, hyprctl dispatch focusmonitor 1; hyprctl dispatch split-workspace 4

# Move windows
bind = SUPER SHIFT, code:10, exec, hyprctl dispatch movewindow mon:0; hyprctl dispatch focusmonitor 0; hyprctl dispatch split-movetoworkspace 1
bind = SUPER SHIFT, code:11, exec, hyprctl dispatch movewindow mon:0; hyprctl dispatch focusmonitor 0; hyprctl dispatch split-movetoworkspace 2
bind = SUPER SHIFT, code:12, exec, hyprctl dispatch movewindow mon:0; hyprctl dispatch focusmonitor 0; hyprctl dispatch split-movetoworkspace 3
bind = SUPER SHIFT, code:13, exec, hyprctl dispatch movewindow mon:0; hyprctl dispatch focusmonitor 0; hyprctl dispatch split-movetoworkspace 4
bind = SUPER SHIFT, code:14, exec, hyprctl dispatch movewindow mon:1; hyprctl dispatch focusmonitor 1; hyprctl dispatch split-movetoworkspace 1
bind = SUPER SHIFT, code:15, exec, hyprctl dispatch movewindow mon:1; hyprctl dispatch focusmonitor 1; hyprctl dispatch split-movetoworkspace 2
bind = SUPER SHIFT, code:16, exec, hyprctl dispatch movewindow mon:1; hyprctl dispatch focusmonitor 1; hyprctl dispatch split-movetoworkspace 3
bind = SUPER SHIFT, code:17, exec, hyprctl dispatch movewindow mon:1; hyprctl dispatch focusmonitor 1; hyprctl dispatch split-movetoworkspace 4

# Move window to other monitor
bind = CTRL SHIFT, left, exec, hyprctl dispatch movewindow mon:l
bind = CTRL SHIFT, right, exec, hyprctl dispatch movewindow mon:r

# Cycle per monitor
unbind = SUPER, TAB
unbind = SUPER SHIFT, TAB
bind = SUPER, TAB, split-workspace, +1
bind = SUPER SHIFT, TAB, split-workspace, -1
</file>

<file path="dotfiles/hypr/.config/hypr/workspaces-single.conf">
# split-monitor-workspaces ‚Äî single (8 on sole monitor)
exec-once = hyprpm reload -n
plugin {
  split-monitor-workspaces {
    count = 8
    keep_focused = 1
    enable_persistent_workspaces = 1
    enable_notifications = 1
    enable_wrapping = 1
  }
}

# guardrails: disable Super+9/0 (and shift)
unbind = SUPER,       code:18
unbind = SUPER,       code:19
unbind = SUPER SHIFT, code:18
unbind = SUPER SHIFT, code:19

# Focus: WS1..8 (single screen)
bind = SUPER, code:10, exec, hyprctl dispatch split-workspace 1
bind = SUPER, code:11, exec, hyprctl dispatch split-workspace 2
bind = SUPER, code:12, exec, hyprctl dispatch split-workspace 3
bind = SUPER, code:13, exec, hyprctl dispatch split-workspace 4
bind = SUPER, code:14, exec, hyprctl dispatch split-workspace 5
bind = SUPER, code:15, exec, hyprctl dispatch split-workspace 6
bind = SUPER, code:16, exec, hyprctl dispatch split-workspace 7
bind = SUPER, code:17, exec, hyprctl dispatch split-workspace 8

# Move windows
bind = SUPER SHIFT, code:10, exec, hyprctl dispatch split-movetoworkspace 1
bind = SUPER SHIFT, code:11, exec, hyprctl dispatch split-movetoworkspace 2
bind = SUPER SHIFT, code:12, exec, hyprctl dispatch split-movetoworkspace 3
bind = SUPER SHIFT, code:13, exec, hyprctl dispatch split-movetoworkspace 4
bind = SUPER SHIFT, code:14, exec, hyprctl dispatch split-movetoworkspace 5
bind = SUPER SHIFT, code:15, exec, hyprctl dispatch split-movetoworkspace 6
bind = SUPER SHIFT, code:16, exec, hyprctl dispatch split-movetoworkspace 7
bind = SUPER SHIFT, code:17, exec, hyprctl dispatch split-movetoworkspace 8

# Cycle
unbind = SUPER, TAB
unbind = SUPER SHIFT, TAB
bind = SUPER, TAB, split-workspace, +1
bind = SUPER SHIFT, TAB, split-workspace, -1
</file>

<file path="dotfiles/hypr/.local/bin/hypr-switch">
#!/bin/bash
# hypr-switch: Switch between monitor configurations
# Reads config from ~/.config/hypr/hypr-switch.conf

set -euo pipefail

CONFIG_FILE="$HOME/.config/hypr/hypr-switch.conf"
CACHE_FILE="/tmp/hypr-switch-last-mode"
WS_DUAL="$HOME/.config/hypr/workspaces-dual.conf"
WS_SINGLE="$HOME/.config/hypr/workspaces-single.conf"
WS_CURRENT="$HOME/.config/hypr/workspaces-current.conf"

# Load configuration
if [[ ! -f "$CONFIG_FILE" ]]; then
    echo "Error: Configuration file not found: $CONFIG_FILE"
    exit 1
fi

source "$CONFIG_FILE"

# Usage
usage() {
    echo "Usage: hypr-switch {home|laptop|presenter}"
    exit 1
}

# Check if mode is already active (to avoid redundant operations)
is_mode_active() {
    [[ -f "$CACHE_FILE" ]] && [[ "$(cat "$CACHE_FILE")" == "$1" ]]
}

# Apply monitor configuration
apply_monitors() {
    local monitors="$1"
    echo "$monitors" | while IFS= read -r line; do
        [[ -z "$line" ]] && continue
        hyprctl keyword monitor "$line"
    done
}

# Switch workspace configuration
switch_workspaces() {
    local mode="$1"
    local target

    if [[ "$mode" == "dual" ]]; then
        target="$WS_DUAL"
    else
        target="$WS_SINGLE"
    fi

    # Update symlink
    ln -sf "$target" "$WS_CURRENT"

    # Reload Hyprland config
    hyprctl reload
}

# Remap windows when switching modes
remap_windows_to_single() {
    # Move windows from mon1 workspaces (1-4) to global workspaces 5-8
    for ws in {1..4}; do
        hyprctl dispatch focusmonitor 1
        hyprctl dispatch split-workspace "$ws"
        local target_ws=$((ws + 4))
        hyprctl dispatch split-movetoworkspace "$target_ws"
    done
}

remap_windows_to_dual() {
    # Move windows from global workspaces 5-8 back to mon1 workspaces 1-4
    for ws in {5..8}; do
        hyprctl dispatch split-workspace "$ws"
        local target_ws=$((ws - 4))
        hyprctl dispatch movewindow mon:1
        hyprctl dispatch focusmonitor 1
        hyprctl dispatch split-movetoworkspace "$target_ws"
    done
}

# Restart UI components
restart_ui() {
    killall waybar 2>/dev/null || true
    waybar &
    killall hyprpaper 2>/dev/null || true
    hyprpaper &
}

# Mode: HOME (dual monitors)
mode_home() {
    if is_mode_active "home"; then
        echo "Already in HOME mode"
        return
    fi

    echo "Switching to HOME mode (dual monitors)..."
    apply_monitors "$HOME_MONITORS"
    switch_workspaces "dual"
    [[ -f "$CACHE_FILE" ]] && [[ "$(cat "$CACHE_FILE")" == "laptop" ]] && remap_windows_to_dual
    restart_ui
    echo "home" > "$CACHE_FILE"
}

# Mode: LAPTOP (single monitor)
mode_laptop() {
    if is_mode_active "laptop"; then
        echo "Already in LAPTOP mode"
        return
    fi

    echo "Switching to LAPTOP mode (single monitor)..."
    [[ -f "$CACHE_FILE" ]] && [[ "$(cat "$CACHE_FILE")" == "home" ]] && remap_windows_to_single
    apply_monitors "$LAPTOP_MONITORS"
    switch_workspaces "single"
    restart_ui
    echo "laptop" > "$CACHE_FILE"
}

# Mode: PRESENTER (mirrored)
mode_presenter() {
    if is_mode_active "presenter"; then
        echo "Already in PRESENTER mode"
        return
    fi

    echo "Switching to PRESENTER mode (mirrored)..."
    apply_monitors "$PRESENTER_MONITORS"
    switch_workspaces "single"
    restart_ui
    echo "presenter" > "$CACHE_FILE"
}

# Main
case "${1:-}" in
    home)
        mode_home
        ;;
    laptop)
        mode_laptop
        ;;
    presenter)
        mode_presenter
        ;;
    *)
        usage
        ;;
esac
</file>

<file path="dotfiles/nvim/.config/nvim/lua/config/autocmds.lua">
-- Autocmds are automatically loaded on the VeryLazy event
-- Default autocmds that are always set: https://github.com/LazyVim/LazyVim/blob/main/lua/lazyvim/config/autocmds.lua
--
-- Add any additional autocmds here
-- with `vim.api.nvim_create_autocmd`
--
-- Or remove existing autocmds by their group name (which is prefixed with `lazyvim_` for the defaults)
-- e.g. vim.api.nvim_del_augroup_by_name("lazyvim_wrap_spell")
</file>

<file path="dotfiles/nvim/.config/nvim/lua/config/keymaps.lua">
-- Keymaps are automatically loaded on the VeryLazy event
-- Default keymaps that are always set: https://github.com/LazyVim/LazyVim/blob/main/lua/lazyvim/config/keymaps.lua
-- Add any additional keymaps here
</file>

<file path="dotfiles/nvim/.config/nvim/lua/config/lazy.lua">
local lazypath = vim.fn.stdpath("data") .. "/lazy/lazy.nvim"
if not (vim.uv or vim.loop).fs_stat(lazypath) then
  local lazyrepo = "https://github.com/folke/lazy.nvim.git"
  local out = vim.fn.system({ "git", "clone", "--filter=blob:none", "--branch=stable", lazyrepo, lazypath })
  if vim.v.shell_error ~= 0 then
    vim.api.nvim_echo({
      { "Failed to clone lazy.nvim:\n", "ErrorMsg" },
      { out, "WarningMsg" },
      { "\nPress any key to exit..." },
    }, true, {})
    vim.fn.getchar()
    os.exit(1)
  end
end
vim.opt.rtp:prepend(lazypath)

require("lazy").setup({
  spec = {
    -- add LazyVim and import its plugins
    { "LazyVim/LazyVim", import = "lazyvim.plugins" },
    -- import/override with your plugins
    { import = "plugins" },
  },
  defaults = {
    -- By default, only LazyVim plugins will be lazy-loaded. Your custom plugins will load during startup.
    -- If you know what you're doing, you can set this to `true` to have all your custom plugins lazy-loaded by default.
    lazy = false,
    -- It's recommended to leave version=false for now, since a lot the plugin that support versioning,
    -- have outdated releases, which may break your Neovim install.
    version = false, -- always use the latest git commit
    -- version = "*", -- try installing the latest stable version for plugins that support semver
  },
  install = { colorscheme = { "tokyonight", "habamax" } },
  checker = {
    enabled = true, -- check for plugin updates periodically
    notify = false, -- notify on update
  }, -- automatically check for plugin updates
  performance = {
    rtp = {
      -- disable some rtp plugins
      disabled_plugins = {
        "gzip",
        -- "matchit",
        -- "matchparen",
        -- "netrwPlugin",
        "tarPlugin",
        "tohtml",
        "tutor",
        "zipPlugin",
      },
    },
  },
})
</file>

<file path="dotfiles/nvim/.config/nvim/lua/config/options.lua">
-- Options are automatically loaded before lazy.nvim startup
-- Default options that are always set: https://github.com/LazyVim/LazyVim/blob/main/lua/lazyvim/config/options.lua
-- Add any additional options here
vim.opt.relativenumber = false
</file>

<file path="dotfiles/nvim/.config/nvim/lua/plugins/all-themes.lua">
return {
  -- Load all theme plugins but don't apply them
  -- This ensures all colorschemes are available for hot-reloading
  {
    "ribru17/bamboo.nvim",
    lazy = true,
    priority = 1000,
  },
  {
    "catppuccin/nvim",
    name = "catppuccin",
    lazy = true,
    priority = 1000,
  },
  {
    "sainnhe/everforest",
    lazy = true,
    priority = 1000,
  },
  {
    "kepano/flexoki-neovim",
    lazy = true,
    priority = 1000,
  },
  {
    "ellisonleao/gruvbox.nvim",
    lazy = true,
    priority = 1000,
  },
  {
    "rebelot/kanagawa.nvim",
    lazy = true,
    priority = 1000,
  },
  {
    "tahayvr/matteblack.nvim",
    lazy = true,
    priority = 1000,
  },
  {
    "loctvl842/monokai-pro.nvim",
    lazy = true,
    priority = 1000,
  },
  {
    "shaunsingh/nord.nvim",
    lazy = true,
    priority = 1000,
  },
  {
    "rose-pine/neovim",
    name = "rose-pine",
    lazy = true,
    priority = 1000,
  },
  {
    "folke/tokyonight.nvim",
    lazy = true,
    priority = 1000,
  },
}
</file>

<file path="dotfiles/nvim/.config/nvim/lua/plugins/disable-news-alert.lua">
return {
	"LazyVim/LazyVim",
	opts = {
		news = {
			lazyvim = false,
			neovim = false,
		},
	},
}
</file>

<file path="dotfiles/nvim/.config/nvim/lua/plugins/example.lua">
-- since this is just an example spec, don't actually load anything here and return an empty spec
-- stylua: ignore
if true then return {} end

-- every spec file under the "plugins" directory will be loaded automatically by lazy.nvim
--
-- In your plugin files, you can:
-- * add extra plugins
-- * disable/enabled LazyVim plugins
-- * override the configuration of LazyVim plugins
return {
  -- add gruvbox
  { "ellisonleao/gruvbox.nvim" },

  -- Configure LazyVim to load gruvbox
  {
    "LazyVim/LazyVim",
    opts = {
      colorscheme = "gruvbox",
    },
  },

  -- change trouble config
  {
    "folke/trouble.nvim",
    -- opts will be merged with the parent spec
    opts = { use_diagnostic_signs = true },
  },

  -- disable trouble
  { "folke/trouble.nvim", enabled = false },

  -- override nvim-cmp and add cmp-emoji
  {
    "hrsh7th/nvim-cmp",
    dependencies = { "hrsh7th/cmp-emoji" },
    ---@param opts cmp.ConfigSchema
    opts = function(_, opts)
      table.insert(opts.sources, { name = "emoji" })
    end,
  },

  -- change some telescope options and a keymap to browse plugin files
  {
    "nvim-telescope/telescope.nvim",
    keys = {
      -- add a keymap to browse plugin files
      -- stylua: ignore
      {
        "<leader>fp",
        function() require("telescope.builtin").find_files({ cwd = require("lazy.core.config").options.root }) end,
        desc = "Find Plugin File",
      },
    },
    -- change some options
    opts = {
      defaults = {
        layout_strategy = "horizontal",
        layout_config = { prompt_position = "top" },
        sorting_strategy = "ascending",
        winblend = 0,
      },
    },
  },

  -- add pyright to lspconfig
  {
    "neovim/nvim-lspconfig",
    ---@class PluginLspOpts
    opts = {
      ---@type lspconfig.options
      servers = {
        -- pyright will be automatically installed with mason and loaded with lspconfig
        pyright = {},
      },
    },
  },

  -- add tsserver and setup with typescript.nvim instead of lspconfig
  {
    "neovim/nvim-lspconfig",
    dependencies = {
      "jose-elias-alvarez/typescript.nvim",
      init = function()
        require("lazyvim.util").lsp.on_attach(function(_, buffer)
          -- stylua: ignore
          vim.keymap.set( "n", "<leader>co", "TypescriptOrganizeImports", { buffer = buffer, desc = "Organize Imports" })
          vim.keymap.set("n", "<leader>cR", "TypescriptRenameFile", { desc = "Rename File", buffer = buffer })
        end)
      end,
    },
    ---@class PluginLspOpts
    opts = {
      ---@type lspconfig.options
      servers = {
        -- tsserver will be automatically installed with mason and loaded with lspconfig
        tsserver = {},
      },
      -- you can do any additional lsp server setup here
      -- return true if you don't want this server to be setup with lspconfig
      ---@type table<string, fun(server:string, opts:_.lspconfig.options):boolean?>
      setup = {
        -- example to setup with typescript.nvim
        tsserver = function(_, opts)
          require("typescript").setup({ server = opts })
          return true
        end,
        -- Specify * to use this function as a fallback for any server
        -- ["*"] = function(server, opts) end,
      },
    },
  },

  -- for typescript, LazyVim also includes extra specs to properly setup lspconfig,
  -- treesitter, mason and typescript.nvim. So instead of the above, you can use:
  { import = "lazyvim.plugins.extras.lang.typescript" },

  -- add more treesitter parsers
  {
    "nvim-treesitter/nvim-treesitter",
    opts = {
      ensure_installed = {
        "bash",
        "html",
        "javascript",
        "json",
        "lua",
        "markdown",
        "markdown_inline",
        "python",
        "query",
        "regex",
        "tsx",
        "typescript",
        "vim",
        "yaml",
      },
    },
  },

  -- since `vim.tbl_deep_extend`, can only merge tables and not lists, the code above
  -- would overwrite `ensure_installed` with the new value.
  -- If you'd rather extend the default config, use the code below instead:
  {
    "nvim-treesitter/nvim-treesitter",
    opts = function(_, opts)
      -- add tsx and treesitter
      vim.list_extend(opts.ensure_installed, {
        "tsx",
        "typescript",
      })
    end,
  },

  -- the opts function can also be used to change the default opts:
  {
    "nvim-lualine/lualine.nvim",
    event = "VeryLazy",
    opts = function(_, opts)
      table.insert(opts.sections.lualine_x, {
        function()
          return "üòÑ"
        end,
      })
    end,
  },

  -- or you can return new options to override all the defaults
  {
    "nvim-lualine/lualine.nvim",
    event = "VeryLazy",
    opts = function()
      return {
        --[[add your custom lualine config here]]
      }
    end,
  },

  -- use mini.starter instead of alpha
  { import = "lazyvim.plugins.extras.ui.mini-starter" },

  -- add jsonls and schemastore packages, and setup treesitter for json, json5 and jsonc
  { import = "lazyvim.plugins.extras.lang.json" },

  -- add any tools you want to have installed below
  {
    "williamboman/mason.nvim",
    opts = {
      ensure_installed = {
        "stylua",
        "shellcheck",
        "shfmt",
        "flake8",
      },
    },
  },
}
</file>

<file path="dotfiles/nvim/.config/nvim/lua/plugins/omarchy-theme-hotreload.lua">
return {
	{
		name = "theme-hotreload",
		dir = vim.fn.stdpath("config"),
		lazy = false,
		priority = 1000,
		config = function()
			local transparency_file = vim.fn.stdpath("config") .. "/plugin/after/transparency.lua"

			vim.api.nvim_create_autocmd("User", {
				pattern = "LazyReload",
				callback = function()
					-- Unload the theme module
					package.loaded["plugins.theme"] = nil

					vim.schedule(function()
						local ok, theme_spec = pcall(require, "plugins.theme")
						if not ok then
							return
						end

						-- Find the theme plugin and unload it
						local theme_plugin_name = nil
						for _, spec in ipairs(theme_spec) do
							if spec[1] and spec[1] ~= "LazyVim/LazyVim" then
								theme_plugin_name = spec.name or spec[1]
								break
							end
						end

						-- Clear all highlight groups before applying new theme
						vim.cmd("highlight clear")
						if vim.fn.exists("syntax_on") then
							vim.cmd("syntax reset")
						end

						-- Reset background to default so colorscheme can set it properly (light themes will set to light)
						vim.o.background = "dark"

						-- Unload theme plugin modules to force full reload
						if theme_plugin_name then
							local plugin = require("lazy.core.config").plugins[theme_plugin_name]
							if plugin then
								-- Unload all lua modules from the plugin directory
								local plugin_dir = plugin.dir .. "/lua"
								require("lazy.core.util").walkmods(plugin_dir, function(modname)
									package.loaded[modname] = nil
									package.preload[modname] = nil
								end)
							end
						end

						-- Find and apply the new colorscheme
						for _, spec in ipairs(theme_spec) do
							if spec[1] == "LazyVim/LazyVim" and spec.opts and spec.opts.colorscheme then
								local colorscheme = spec.opts.colorscheme

								-- Load the colorscheme plugin
								require("lazy.core.loader").colorscheme(colorscheme)

								vim.defer_fn(function()
									-- Apply the colorscheme (it will set background itself)
									pcall(vim.cmd.colorscheme, colorscheme)

									-- Force redraw to update all UI elements
									vim.cmd("redraw!")

									-- Reload transparency settings
									if vim.fn.filereadable(transparency_file) == 1 then
										vim.defer_fn(function()
											vim.cmd.source(transparency_file)

											-- Trigger UI updates for various plugins
											vim.api.nvim_exec_autocmds("ColorScheme", { modeline = false })
											vim.api.nvim_exec_autocmds("VimEnter", { modeline = false })

											-- Final redraw
											vim.cmd("redraw!")
										end, 5)
									end
								end, 5)

								break
							end
						end
					end)
				end,
			})
		end,
	},
}
</file>

<file path="dotfiles/nvim/.config/nvim/lua/plugins/snacks-animated-scrolling-off.lua">
return {
	"folke/snacks.nvim",
	opts = {
		scroll = {
			enabled = false, -- Disable scrolling animations
		},
	},
}
</file>

<file path="dotfiles/nvim/.config/nvim/plugin/after/transparency.lua">
-- transparent background
vim.api.nvim_set_hl(0, "Normal", { bg = "none" })
vim.api.nvim_set_hl(0, "NormalFloat", { bg = "none" })
vim.api.nvim_set_hl(0, "FloatBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "Pmenu", { bg = "none" })
vim.api.nvim_set_hl(0, "Terminal", { bg = "none" })
vim.api.nvim_set_hl(0, "EndOfBuffer", { bg = "none" })
vim.api.nvim_set_hl(0, "FoldColumn", { bg = "none" })
vim.api.nvim_set_hl(0, "Folded", { bg = "none" })
vim.api.nvim_set_hl(0, "SignColumn", { bg = "none" })
vim.api.nvim_set_hl(0, "NormalNC", { bg = "none" })
vim.api.nvim_set_hl(0, "WhichKeyFloat", { bg = "none" })
vim.api.nvim_set_hl(0, "TelescopeBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "TelescopeNormal", { bg = "none" })
vim.api.nvim_set_hl(0, "TelescopePromptBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "TelescopePromptTitle", { bg = "none" })

-- transparent background for neotree
vim.api.nvim_set_hl(0, "NeoTreeNormal", { bg = "none" })
vim.api.nvim_set_hl(0, "NeoTreeNormalNC", { bg = "none" })
vim.api.nvim_set_hl(0, "NeoTreeVertSplit", { bg = "none" })
vim.api.nvim_set_hl(0, "NeoTreeWinSeparator", { bg = "none" })
vim.api.nvim_set_hl(0, "NeoTreeEndOfBuffer", { bg = "none" })

-- transparent background for nvim-tree
vim.api.nvim_set_hl(0, "NvimTreeNormal", { bg = "none" })
vim.api.nvim_set_hl(0, "NvimTreeVertSplit", { bg = "none" })
vim.api.nvim_set_hl(0, "NvimTreeEndOfBuffer", { bg = "none" })

-- transparent notify background
vim.api.nvim_set_hl(0, "NotifyINFOBody", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyERRORBody", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyWARNBody", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyTRACEBody", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyDEBUGBody", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyINFOTitle", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyERRORTitle", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyWARNTitle", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyTRACETitle", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyDEBUGTitle", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyINFOBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyERRORBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyWARNBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyTRACEBorder", { bg = "none" })
vim.api.nvim_set_hl(0, "NotifyDEBUGBorder", { bg = "none" })
</file>

<file path="dotfiles/nvim/.config/nvim/.gitignore">
tt.*
.tests
doc/tags
debug
.repro
foo.*
*.log
data
</file>

<file path="dotfiles/nvim/.config/nvim/.neoconf.json">
{
  "neodev": {
    "library": {
      "enabled": true,
      "plugins": true
    }
  },
  "neoconf": {
    "plugins": {
      "lua_ls": {
        "enabled": true
      }
    }
  }
}
</file>

<file path="dotfiles/nvim/.config/nvim/init.lua">
-- bootstrap lazy.nvim, LazyVim and your plugins
require("config.lazy")
</file>

<file path="dotfiles/nvim/.config/nvim/lazyvim.json">
{
  "extras": [
    "lazyvim.plugins.extras.editor.neo-tree"
  ],
  "install_version": 8,
  "news": {
    "NEWS.md": "11866"
  },
  "version": 8
}
</file>

<file path="dotfiles/nvim/.config/nvim/LICENSE">
Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

   APPENDIX: How to apply the Apache License to your work.

      To apply the Apache License to your work, attach the following
      boilerplate notice, with the fields enclosed by brackets "[]"
      replaced with your own identifying information. (Don't include
      the brackets!)  The text should be enclosed in the appropriate
      comment syntax for the file format. We also recommend that a
      file or class name and description of purpose be included on the
      same "printed page" as the copyright notice for easier
      identification within third-party archives.

   Copyright [yyyy] [name of copyright owner]

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
</file>

<file path="dotfiles/nvim/.config/nvim/README.md">
# üí§ LazyVim

A starter template for [LazyVim](https://github.com/LazyVim/LazyVim).
Refer to the [documentation](https://lazyvim.github.io/installation) to get started.
</file>

<file path="dotfiles/nvim/.config/nvim/stylua.toml">
indent_type = "Spaces"
indent_width = 2
column_width = 120
</file>

<file path="dotfiles/OpenSCAD/.config/OpenSCAD/OpenSCAD.conf">
[General]

[design]
autoReload=false

[view]
hide3DViewToolbar=false
hideConsole=false
hideCustomizer=false
hideEditor=false
hideEditorToolbar=false
hideErrorLog=false
orthogonalProjection=false
showAxes=true
showScaleProportional=true
</file>

<file path="dotfiles/teamviewer/.config/teamviewer/client.conf">
TeamViewer User Settings
# It is not recommended to edit this file manually


[bin  ] BetterChat_Key_For_FileOutboxStorage = 080000081000100020963e30f33cb34106f67e260834933458dbb9ca7d85da09c472cfaf3307b0fe49e5a24c8598d9b51785c778327b21811efa21aeb5b8ea3e4a4129ea9ccfbd04e5c6a3d1b6ce713aee1b95aa37bd21ba
[strng] BuddyDisplayName = "Jan van Veldhuizen"
[strng] BuddyLoginName = "jan@janvv.nl"
[bin  ] BuddyLoginTokenAES = f9411ce346281f22f299d26d01cc9955da0be73a2f7a7e0281b7c1e34bd0139f9984fa129f4c72abc485d1baa96b6c8b9eb34fe261ad13245196e18633ce34427872930883d5a193c9d7050c2c41a58f0f6b27307a36ba43ce8f53d5491d0373343d6f7dcd20d44368da579ae1582de1
[int32] BuddyLoginTokenID = 1388662438
[bin  ] BuddyLoginTokenSecretAES = 0a0f95837dec2d061543d34047ae670406a746b584eef889b245213f8a3f3821
[int32] BuddyLoginType = 1
[int32] ConfigurationAiNudgeConnectionReport = 1
[int32] ConfigurationAiNudgeInsessionCopilot = 1
[int32] ConfigurationAiNudgeRemoteSupport = 1
[int32] ConfigurationAiNudgeRequestAccess = 1
[int32] ConfigurationCoPilotEnabled = 1
[int32] ConfigurationLAPSEnabled = 1
[int32] ConfigurationRMAssetReportingEnabled = 1
[int32] ConfigurationSessionSummaryEnabled = 1
[int32] Enable1EClient = 1
[int32] LastCorrectorRun = 2
[int32] MainWindowSize = 941 1030 38 12
[strng] MultiMedia\AudioUserSelectedCapturingEndpoint = "null"
[strng] MultiMedia\AudioUserSelectedRenderingEndpoint = "null"
[int32] PilotTabWasEnabled = 1
[bin  ] SUID = aa27ce78fd344cf0a1d1ee83966e47d9
[int32] UserAccountID = 324229726
</file>

<file path="dotfiles/walker/.config/.config/config.toml">
force_keyboard_focus = true                                                 # forces keyboard forcus to stay in Walker
selection_wrap = true                                                       # wrap list if at bottom or top
theme = "omarchy-default"                                                   # theme to use
additional_theme_location = "~/.local/share/omarchy/default/walker/themes/"
hide_action_hints = true                                                    # globally hide the action hints

[placeholders]
"default" = { input = "ÔÄÇ Search...", list = "No Results" } # placeholders for input and empty list, key is the providers name, so f.e. "desktopapplications" or "menus:other"

[keybinds]
quick_activate = []

[columns]
symbols = 1 # providers to be queried by default

[providers]
max_results = 256 # 256 should be enough for everyone
default = [
  "desktopapplications",
  "websearch",
]

[[providers.prefixes]]
prefix = "/"
provider = "providerlist"

[[providers.prefixes]]
prefix = "."
provider = "files"

[[providers.prefixes]]
prefix = ":"
provider = "symbols"

[[providers.prefixes]]
prefix = "="
provider = "calc"

[[providers.prefixes]]
prefix = "@"
provider = "websearch"

[[providers.prefixes]]
prefix = "$"
provider = "clipboard"
</file>

<file path="hosts/laptop1/dotfiles/hypr/.config/hypr/hypr-switch.conf">
# hypr-switch configuration for laptop1
# Monitor configuration for different modes

# HOME mode: dual monitors (internal left, external right)
HOME_MONITORS="eDP-1,1920x1080@60,0x0,1
HDMI-A-1,1920x1080@60,1920x0,1"

# LAPTOP mode: single monitor (internal only)
LAPTOP_MONITORS="eDP-1,1920x1080@60,0x0,1
HDMI-A-1,disable"

# PRESENTER mode: mirrored displays
PRESENTER_MONITORS="eDP-1,1920x1080@60,0x0,1
HDMI-A-1,1920x1080@60,0x0,1,mirror,eDP-1"
</file>

<file path="hosts/laptop2/dotfiles/hypr/.config/hypr/hypr-switch.conf">
# hypr-switch configuration for laptop2
# Monitor configuration for different modes

# HOME mode: dual monitors (external left of internal)
HOME_MONITORS="HDMI-A-1,1920x1080@60,-1920x0,1
eDP-1,1366x768@60,0x0,1"

# LAPTOP mode: single monitor (internal only)
LAPTOP_MONITORS="eDP-1,1366x768@60,0x0,1
HDMI-A-1,disable"

# PRESENTER mode: mirrored displays
PRESENTER_MONITORS="eDP-1,1366x768@60,0x0,1
HDMI-A-1,1366x768@60,0x0,1,mirror,eDP-1"
</file>

<file path="install/cronie.sh">
#!/bin/sh
# Post-install script for cronie
# Enables and starts the cronie service (cron daemon)

set -eu

# Source helpers for logging
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/../scripts/helpers.sh" 2>/dev/null || . "$(dirname "$SCRIPT_DIR")/scripts/helpers.sh"

# Enable service if not already enabled
if ! systemctl is-enabled cronie.service >/dev/null 2>&1; then
    sudo systemctl enable cronie.service
fi

# Start service if not already running
if ! systemctl is-active cronie.service >/dev/null 2>&1; then
    sudo systemctl start cronie.service
fi
</file>

<file path="install/systemd.sh">
#!/bin/sh
# Post-install script for systemd-resolved
# Configures systemd-resolved for DHCP/DNS with homelab DNS servers
# Reference: https://opa.janvv.nl/blog/2025-10-13-omarchy-fix-dhcp

set -eu

# Source helpers for logging
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/../scripts/helpers.sh" 2>/dev/null || . "$(dirname "$SCRIPT_DIR")/scripts/helpers.sh"

# Check if we can use sudo without password
if ! sudo -n true 2>/dev/null; then
    warn "Cannot configure systemd-resolved without sudo access (run manually or configure passwordless sudo)"
    exit 0
fi

# Function to check if DNS server is in homelab range (192.168.*.*)
is_homelab_dns() {
    dns_server="$1"
    # Check if IP starts with 192.168.
    case "$dns_server" in
        192.168.*.*)
            return 0
            ;;
        192.168.*)
            return 0
            ;;
        *)
            return 1
            ;;
    esac
}

# Check current configuration
log "Checking current DNS configuration..."
resolv_status=$(resolvectl status 2>/dev/null || echo "")

if [ -z "$resolv_status" ]; then
    warn "Could not get resolvectl status"
    exit 1
fi

# Parse global section for current state
resolv_mode=$(echo "$resolv_status" | grep -A 10 "^Global" | grep "resolv.conf mode:" | sed 's/.*resolv.conf mode: //' | tr -d ' ')
dns_server=$(echo "$resolv_status" | grep -A 10 "^Global" | grep "DNS Servers:" | sed 's/.*DNS Servers: //' | awk '{print $1}' | tr -d ' ')
dns_domain=$(echo "$resolv_status" | grep -A 10 "^Global" | grep "DNS Domain:" | sed 's/.*DNS Domain: //' | tr -d ' ')

log "Current state: mode=$resolv_mode, DNS=$dns_server, domain=$dns_domain"

# Determine if configuration is needed
needs_config=0

if [ "$resolv_mode" != "foreign" ]; then
    log "resolv.conf mode is not 'foreign' (current: $resolv_mode)"
    needs_config=1
fi

if [ -n "$dns_server" ]; then
    if ! is_homelab_dns "$dns_server"; then
        log "DNS server is not in homelab range 192.168.*.* (current: $dns_server)"
        needs_config=1
    fi
else
    log "No DNS server configured"
    needs_config=1
fi

if [ "$dns_domain" != "local" ]; then
    log "DNS domain is not 'local' (current: $dns_domain)"
    needs_config=1
fi

# Exit if already configured correctly
if [ "$needs_config" -eq 0 ]; then
    log "systemd-resolved is already configured correctly, no changes needed"
    exit 0
fi

# Apply configuration
log "Applying systemd-resolved configuration..."

# Step 1: Create symlink for stub resolver
if [ ! -L /etc/resolv.conf ] || [ "$(readlink /etc/resolv.conf)" != "/run/systemd/resolve/stub-resolv.conf" ]; then
    log "Creating symlink: /etc/resolv.conf -> /run/systemd/resolve/stub-resolv.conf"
    sudo ln -sf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
else
    log "Symlink already configured correctly"
fi

# Step 2: Enable and start systemd-resolved
if ! systemctl is-enabled systemd-resolved.service >/dev/null 2>&1; then
    log "Enabling systemd-resolved.service"
    sudo systemctl enable systemd-resolved.service
else
    log "systemd-resolved.service already enabled"
fi

if ! systemctl is-active systemd-resolved.service >/dev/null 2>&1; then
    log "Starting systemd-resolved.service"
    sudo systemctl start systemd-resolved.service
else
    log "systemd-resolved.service already running"
fi

# Step 3: Renew DHCP lease
log "Renewing DHCP lease to apply DNS settings..."
sudo dhclient -r >/dev/null 2>&1 || true
sleep 1
sudo dhclient >/dev/null 2>&1 || true
sleep 2

# Verify configuration
log "Verifying configuration..."
new_resolv_status=$(resolvectl status 2>/dev/null || echo "")
new_resolv_mode=$(echo "$new_resolv_status" | grep -A 10 "^Global" | grep "resolv.conf mode:" | sed 's/.*resolv.conf mode: //' | tr -d ' ')
new_dns_server=$(echo "$new_resolv_status" | grep -A 10 "^Global" | grep "DNS Servers:" | sed 's/.*DNS Servers: //' | awk '{print $1}' | tr -d ' ')
new_dns_domain=$(echo "$new_resolv_status" | grep -A 10 "^Global" | grep "DNS Domain:" | sed 's/.*DNS Domain: //' | tr -d ' ')

log "New state: mode=$new_resolv_mode, DNS=$new_dns_server, domain=$new_dns_domain"

if [ "$new_resolv_mode" = "foreign" ] && is_homelab_dns "$new_dns_server" && [ "$new_dns_domain" = "local" ]; then
    log "Configuration applied successfully!"
else
    warn "Configuration may not be complete. Check 'resolvectl status' manually."
fi
</file>

<file path="scripts/cleanup.sh">
#!/bin/sh
# cleanup.sh - Weekly maintenance cleanup
#
# - Removes broken symlinks in $HOME
# - Removes files in ~/Downloads not accessed for 7+ days
#
# Usage: ./scripts/cleanup.sh [--dry-run]

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/helpers.sh"

DRY_RUN=false
if [ "${1:-}" = "--dry-run" ]; then
    DRY_RUN=true
    log "Dry run mode - no files will be deleted"
fi

# Clean broken symlinks in $HOME and .config (excluding .cache, .local)
log "Checking for broken symlinks..."
broken_count=0
find "$HOME" "$HOME/.config" -maxdepth 3 -xtype l \
    -not -path "$HOME/.cache/*" \
    -not -path "$HOME/.local/*" \
    -not -path "$HOME/.cargo/*" \
    -not -path "$HOME/.rustup/*" \
    2>/dev/null | while read -r link; do
    if [ "$DRY_RUN" = true ]; then
        log "Would remove broken symlink: $link"
    else
        log "Removing broken symlink: $link"
        rm "$link"
    fi
    broken_count=$((broken_count + 1))
done

# Clean old downloads (files not accessed in 7+ days)
DOWNLOADS="$HOME/Downloads"
if [ -d "$DOWNLOADS" ]; then
    log "Checking for old files in $DOWNLOADS..."
    find "$DOWNLOADS" -type f -atime +7 2>/dev/null | while read -r file; do
        if [ "$DRY_RUN" = true ]; then
            log "Would remove old download: $file"
        else
            log "Removing old download: $file"
            rm "$file"
        fi
    done

    # Remove empty directories left behind
    if [ "$DRY_RUN" = false ]; then
        find "$DOWNLOADS" -type d -empty -delete 2>/dev/null || true
    fi
fi

log "Cleanup complete."
</file>

<file path="scripts/install_cron.sh">
#!/bin/sh
# install_cron.sh - Install cron job to run install_all.sh every 6 hours

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

. "$SCRIPT_DIR/helpers.sh"

CRON_COMMAND="$REPO_ROOT/install_all.sh"
CRON_ENTRY="0 */6 * * * $CRON_COMMAND"

if crontab -l 2>/dev/null | grep -qF "$CRON_COMMAND"; then
    log "Cron job already exists"
    exit 0
fi

(crontab -l 2>/dev/null || true; echo "$CRON_ENTRY") | crontab -
log "Installed cron job: $CRON_ENTRY"
</file>

<file path="scripts/remove_files.sh">
#!/bin/sh
set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/helpers.sh"

log "Removing unwanted files..."

while IFS= read -r line || [ -n "$line" ]; do
    # Skip empty lines and comments
    case "$line" in
        ''|'#'*) continue ;;
    esac

    # Expand ~ to $HOME
    file="${line#\~}"
    [ "$file" != "$line" ] && file="$HOME$file"

    rm -f "$file"
done < "$SCRIPT_DIR/../remove_files.txt"

log "File removal complete"
</file>

<file path="scripts/setup_cleanup.sh">
#!/bin/sh
# setup_cleanup.sh - Install weekly cleanup cron job
#
# Usage: ./scripts/setup_cleanup.sh

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/helpers.sh"

CLEANUP_SCRIPT="$SCRIPT_DIR/cleanup.sh"
LOG_FILE="$HOME/.cache/cleanup.log"
CRON_PATTERN="cleanup.sh"

# Weekly on Sunday at 3am
CRON_ENTRY="0 3 * * 0 $CLEANUP_SCRIPT >> $LOG_FILE 2>&1"

if crontab -l 2>/dev/null | grep -qF "$CRON_PATTERN"; then
    log "Cleanup cron already installed"
else
    (crontab -l 2>/dev/null || true; echo "$CRON_ENTRY") | crontab -
    log "Installed weekly cleanup cron (Sundays 3am)"
fi
</file>

<file path="dotfiles/OrcaSlicer/.config/OrcaSlicer/OrcaSlicer.conf">
{
    "access_code": {
        "03919D551502723": "21244728"
    },
    "app": {
        "allow_ip_resolve": true,
        "angle_defletion": "0.5",
        "auto_arrange": true,
        "auto_calculate": true,
        "auto_calculate_when_filament_change": true,
        "auto_perspective": false,
        "backup_interval": "10",
        "backup_switch": true,
        "camera_navigation_style": "0",
        "camera_orbit_mult": "1.0",
        "check_stable_update_only": true,
        "curr_bed_type": "4",
        "dark_color_mode": "0",
        "default_page": "0",
        "developer_mode": false,
        "download_path": "/home/jan/Downloads",
        "drop_project_action": true,
        "enable_multi_machine": false,
        "enable_ssl_for_ftp": true,
        "enable_ssl_for_mqtt": true,
        "enable_step_mesh_setting": true,
        "flush_multiplier": "1.000000",
        "import_project_action": "1",
        "installed_networking": true,
        "internal_developer_mode": false,
        "iot_environment": "3",
        "is_split_compound": false,
        "keyboard_supported": "none/alt/control/shift",
        "language": "en_US",
        "last_backup_path": "/tmp/orcaslicer_model/Sat_Dec_13/20_48_53#26228#50",
        "last_export_path": "/home/jan/3D/Remote Holder",
        "legacy_networking": true,
        "linear_defletion": "0.003",
        "log_severity_level": "warning",
        "max_recent_count": "18",
        "max_send": "3",
        "mouse_supported": "mouse left/mouse middle/mouse right",
        "mouse_wheel": "0",
        "move_view": "none/mouse left",
        "open_device_tab_post_upload": false,
        "precise_control": "none/mouse left",
        "preset_folder": "",
        "print_host_queue_dialog_column_0": "0",
        "print_host_queue_dialog_column_1": "0",
        "print_host_queue_dialog_column_2": "0",
        "print_host_queue_dialog_column_3": "0",
        "print_host_queue_dialog_column_4": "0",
        "print_host_queue_dialog_column_5": "0",
        "print_host_queue_dialog_height": "60",
        "print_host_queue_dialog_width": "30",
        "print_host_queue_dialog_x": "760",
        "print_host_queue_dialog_y": "415",
        "privacy_version": "00.00.00.00",
        "project_load_behaviour": "ask_when_relevant",
        "recent_models": "0",
        "region": "Europe",
        "remember_printer_config": true,
        "reverse_mouse_wheel_zoom": false,
        "rotate_view": "none/mouse left",
        "save_preset_choise": "2",
        "sending_interval": "5",
        "show_3d_navigator": true,
        "show_build_edgets": false,
        "show_daily_tips": true,
        "show_gcode_window": true,
        "show_hints": true,
        "show_home_page": true,
        "show_model_mesh": false,
        "show_model_shadow": true,
        "show_outline": false,
        "show_printable_box": true,
        "show_splash_screen": false,
        "single_instance": true,
        "skip_version": "2.3.1-beta",
        "slicer_uuid": "0b9fdc1b-14dc-4236-8a9b-7a32a6ac54c6",
        "stealth_mode": true,
        "swap_mouse_buttons": false,
        "sync_system_preset": true,
        "sync_user_preset": true,
        "tls_accepted_cert_store_location": "/etc/ssl/certs/ca-certificates.crt",
        "tls_cert_store_accepted": "yes",
        "toolkit_size": "100",
        "units": "0",
        "use_free_camera": false,
        "use_inches": "0",
        "use_perspective_camera": true,
        "user_mode": "advanced",
        "version": "01.10.01.50",
        "window_layout": "layout2|name=sidebar;caption=;state=1996;dir=4;layer=0;row=0;pos=0;prop=100000;bestw=462;besth=990;minw=-1;minh=-1;maxw=-1;maxh=-1;floatx=-1;floaty=-1;floatw=-1;floath=-1|name=main;caption=;state=256;dir=5;layer=0;row=0;pos=0;prop=100000;bestw=20;besth=20;minw=-1;minh=-1;maxw=-1;maxh=-1;floatx=-1;floaty=-1;floatw=-1;floath=-1|dock_size(5,0,0)=20|dock_size(4,0,0)=464|",
        "window_mainframe": "1378; 38; 1896; 1030; 0",
        "zoom_to_mouse": false,
        "zoom_view": "none/mouse left"
    },
    "arrange": {
        "enable_rotation_fff": true
    },
    "calis": [
        {
            "cache_flow_rate_calibration_type": 0,
            "cali_finished": 1,
            "dev_id": "03919D551502723",
            "flow_ratio": 0.9800000190734863,
            "presets": [
                {
                    "filament_id": "GFL99",
                    "name": "Generic PLA @BBL A1",
                    "nozzle_diameter": 0.4000000059604645,
                    "setting_id": "GFSL99_04",
                    "tray_id": 254
                }
            ]
        }
    ],
    "camera": {
        "custom_source": "192.168.144.160",
        "enable_custom_source": false
    },
    "filaments": [
        "Generic PLA",
        "Generic PLA @0.2 nozzle",
        "Generic PLA @BBL A1",
        "Generic PLA @BBL A1 0.2 nozzle",
        "Generic PLA @BBL A1M",
        "Generic PLA @BBL A1M 0.2 nozzle",
        "Generic PLA @BBL P1P",
        "Generic PLA @BBL P1P 0.2 nozzle",
        "Generic PLA @Elegoo",
        "Generic PLA @Flashforge AD4",
        "Generic PLA @MyToolChanger",
        "Generic PLA @System"
    ],
    "firstguide": {
        "finish": true
    },
    "font": {
        "active_font": "3"
    },
    "font:1": {
        "depth": "1.000000",
        "descriptor": "Sans 10",
        "line_height": "10.000000",
        "name": "NORMAL"
    },
    "font:2": {
        "depth": "1.000000",
        "descriptor": "Sans 8",
        "line_height": "8.000000",
        "name": "SMALL"
    },
    "font:3": {
        "depth": "1.000000",
        "descriptor": "Serif Italic 10",
        "line_height": "10.000000",
        "name": "ITALIC"
    },
    "font:4": {
        "depth": "1.200000",
        "descriptor": "Sans Bold 10",
        "line_height": "10.000000",
        "name": "SWISS"
    },
    "font:5": {
        "depth": "1.000000",
        "descriptor": "Monospace Bold 10",
        "line_height": "10.000000",
        "name": "MODERN"
    },
    "header": "OrcaSlicer 2.3.1",
    "local_machines": {
        "03919D551502723": {
            "dev_ip": "192.168.144.160",
            "dev_name": "opajan‚Äôs printer",
            "printer_type": "N2S"
        }
    },
    "models": [
        {
            "model": "Bambu Lab A1",
            "nozzle_diameter": "0.4",
            "vendor": "BBL"
        },
        {
            "model": "Bambu Lab A1 mini",
            "nozzle_diameter": "0.4",
            "vendor": "BBL"
        }
    ],
    "orca_presets": [
        {
            "curr_bed_type": "4",
            "filament": "Generic PLA @BBL A1",
            "filament_colors": "#FFFFFF",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Bambu Lab A1 0.4 nozzle",
            "process": "0.20mm Standard @BBL A1"
        },
        {
            "curr_bed_type": "4",
            "filament": "Generic PLA @BBL A1M",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Bambu Lab A1 mini 0.4 nozzle",
            "process": "Untitled"
        },
        {
            "curr_bed_type": "4",
            "filament": "Bambu PLA Basic @BBL X1C",
            "filament_colors": "#FFFFFF",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Bambu Lab P1S 0.4 nozzle",
            "process": "0.20mm Standard @BBL X1C"
        },
        {
            "curr_bed_type": "4",
            "filament": "Generic PLA @0.2 nozzle",
            "filament_colors": "#808080",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Bambu Lab X1 Carbon 0.2 nozzle",
            "process": "0.06mm High Quality @BBL X1C 0.2 nozzle"
        },
        {
            "curr_bed_type": "4",
            "filament": "Bambu PLA Basic @BBL X1C",
            "filament_colors": "#FFFFFF",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Bambu Lab X1 Carbon 0.4 nozzle",
            "process": "0.20mm Standard @BBL X1C"
        },
        {
            "curr_bed_type": "3",
            "filament": "AliZ PLA @System",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Default Printer",
            "process": "Default Setting"
        },
        {
            "curr_bed_type": "4",
            "filament": "Generic PLA @BBL A1",
            "filament_colors": "#00AE42",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "Jan's Bambu Lab",
            "process": "0.20mm Standard @BBL A1"
        },
        {
            "curr_bed_type": "4",
            "filament": "Generic PLA @System",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "MyMarlin 0.4 nozzle",
            "process": "Default Setting"
        },
        {
            "curr_bed_type": "3",
            "filament": "Generic PLA @System",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "MyMarlin 0.4 nozzle - Copy",
            "process": "0.08mm Extra Fine @MyMarlin"
        },
        {
            "curr_bed_type": "3",
            "filament": "Generic PLA @System",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "MyMarlin 0.4 nozzle - Copy2",
            "process": "0.08mm Extra Fine @MyMarlin"
        },
        {
            "curr_bed_type": "3",
            "filament": "Generic PLA @System",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "MyMarlin 0.4 nozzle - Copy3",
            "process": "0.08mm Extra Fine @MyMarlin"
        },
        {
            "curr_bed_type": "3",
            "filament": "Generic PLA @System",
            "filament_colors": "#26A69A",
            "flush_volumes_matrix": "0.000000",
            "flush_volumes_vector": "140.000000|140.000000",
            "machine": "MyMarlin 0.4 nozzle - Copy4",
            "process": "0.08mm Extra Fine @MyMarlin"
        }
    ],
    "presets": {
        "filaments": null,
        "machine": "Bambu Lab A1 0.4 nozzle"
    },
    "print": {
        "bed_leveling": "1",
        "flow_cali": "1",
        "timelapse": "0"
    },
    "recent": {
        "last_opened_folder": "/opt/orca-slicer/resources/handy_models",
        "printhost_path": "",
        "settings_folder": "/home/jan/3D/Spool Winder 2"
    },
    "recent_projects": {
        "01": "/home/jan/3D/Spool Winder 2/Winder Spool Frame 2 - With Holes for Axle Lock - All Project(1).3mf",
        "02": "/home/jan/Downloads/Winder Spool Frame 2 - With Holes for Axle Lock - All Project.3mf",
        "03": "/home/jan/3D/Filament Spool Winder/bambu-lab-filament-spool-winder-upgraded-all-gears-and-axes-model_files/For Original Winder Spool Frame by Miklos Kiszely & Remix/gear-and-axes-for-original-winder-spool-frame-by-miklos-kiszely-remix-all-project.3mf",
        "04": "/home/jan/3D/Filament Spool Winder/Print plate Gears.3mf",
        "05": "/home/jan/3D/Cube/40mmcube.3mf",
        "06": "/home/jan/3D/Filament Spool Winder/Print plate Axis Washers handle.3mf",
        "07": "/home/jan/3D/Filament Spool Winder/Print plate Center Discs and Spool Axis and Nuts.3mf",
        "08": "/home/jan/3D/Filament Spool Winder/Print plate Winder and Carriage.3mf",
        "09": "/home/jan/3D/Filament Spool Winder/Print plate Donor Spool Holder.3mf",
        "10": "/home/jan/3D/3D_Printer_test.3mf",
        "11": "/home/jan/3D/Filament Spool Winder/Heavy Load Parts/Heavy Load plate 1.3mf",
        "12": "/home/jan/3D/Remote Holder/Remote Holder.3mf",
        "13": "/home/jan/3D/Unicorn Snack Holder/Unicorn Snack Holder Updated.3mf",
        "14": "/home/jan/3D/Unnamed-Cube.3mf",
        "15": "/home/jan/3D/JustInCase/JustInCase.3mf",
        "16": "/home/jan/3D/Filament_Spool/Spool.3mf",
        "17": "/home/jan/3D/Filament_Spool/Hex Spool Left.3mf",
        "18": "/home/jan/3D/Numbers/24.3mf"
    },
    "user_access_code": {
        "03919D551502723": "84548997"
    }
}
</file>

<file path="dotfiles/ssh/.ssh/config">
# GitHub
Host github.com
  IdentityFile ~/.ssh/github
  IdentitiesOnly yes

# GitLab
Host gitlab.com
  IdentityFile ~/.ssh/gitlab
  IdentitiesOnly yes

# Proxmox server
Host server server.local
  Hostname 192.168.144.10
  User jan

# Default: use machine-specific key (%L = local hostname)
Host *
  User jan
  IdentityFile ~/.ssh/%L
  IdentitiesOnly yes
</file>

<file path="dotfiles/ssh/.ssh/github.pub">
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAxr1vls6Y7sVn25KT4zN0cSp+nRhl6cOIySQQMiVqzt github
</file>

<file path="dotfiles/ssh/.ssh/gitlab.pub">
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOWuQ20IoX4j8hN2Jua7IfhaXd0FKKG2yIzheaT0LklU gitlab
</file>

<file path="install/orca-slicer-bin.sh">
#!/bin/sh
# Post-install script for orca-slicer-bin
# Creates custom desktop launcher with GDK_SCALE=1 to fix display scaling issues
# Reference: https://opa.janvv.nl/blog/2025-11-16-omarchy-orcaslicer

set -eu

# Source helpers for logging
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/../scripts/helpers.sh" 2>/dev/null || . "$(dirname "$SCRIPT_DIR")/scripts/helpers.sh"

# Desktop launcher path
LAUNCHER_DIR="$HOME/.local/share/applications"
LAUNCHER_FILE="$LAUNCHER_DIR/OrcaSlicer.desktop"

# Expected launcher content
EXPECTED_EXEC="env GDK_SCALE=1 /opt/orca-slicer/bin/orca-slicer %F"

# Check if launcher already exists with correct configuration
if [ -f "$LAUNCHER_FILE" ]; then
    if grep -qF "$EXPECTED_EXEC" "$LAUNCHER_FILE" 2>/dev/null; then
        log "Custom OrcaSlicer launcher already configured correctly"
        exit 0
    else
        log "Existing launcher found but needs updating"
    fi
else
    log "Creating custom OrcaSlicer launcher"
fi

# Create launcher directory if it doesn't exist
if [ ! -d "$LAUNCHER_DIR" ]; then
    log "Creating directory: $LAUNCHER_DIR"
    mkdir -p "$LAUNCHER_DIR"
fi

# Create custom desktop launcher with GDK_SCALE=1 fix
log "Writing custom launcher to $LAUNCHER_FILE"
cat > "$LAUNCHER_FILE" << 'EOF'
[Desktop Entry]
Name=OrcaSlicer
Exec=env GDK_SCALE=1 /opt/orca-slicer/bin/orca-slicer %F
Icon=OrcaSlicer
Type=Application
Categories=Utility;
MimeType=model/stl;application/vnd.ms-3mfdocument;application/prs.wavefront-obj;application/x-amf;x-scheme-handler/orcaslicer;
EOF

# Verify the launcher was created
if [ -f "$LAUNCHER_FILE" ]; then
    log "Custom launcher created successfully"
    log "OrcaSlicer will launch with GDK_SCALE=1 to fix display issues"
else
    warn "Failed to create custom launcher at $LAUNCHER_FILE"
    exit 1
fi
</file>

<file path="scripts/helpers.sh">
#!/bin/sh
# helpers.sh - Utility functions for Phoenix bootstrap scripts
# POSIX sh compatible utilities

set -eu

# Logging utilities
log() {
    echo "[INFO] $*"
}

warn() {
    echo "[WARN] $*" >&2
}

die() {
    echo "[ERROR] $*" >&2
    exit 1
}
</file>

<file path="scripts/install_claude_code.sh">
#!/bin/sh
# install_claude_code.sh - Install Claude Code CLI using official installation method

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/helpers.sh"

CLAUDE_BIN="$HOME/.local/bin/claude"

# Claude Code auto-updates itself, so only install if not present
if [ -f "$CLAUDE_BIN" ]; then
    log "Claude Code already installed"
    exit 0
fi

log "Installing Claude Code..."
curl -fsSL https://claude.ai/install.sh | bash

if [ ! -f "$CLAUDE_BIN" ]; then
    die "Claude Code installation failed"
fi

log "Claude Code installed successfully"
</file>

<file path="scripts/install_ssh.sh">
#!/bin/sh
# install_ssh.sh - Ensure SSH directory permissions
#
# Called by install_all.sh after dotfiles are stowed.
# For key decryption, run setup_ssh.sh manually.

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

. "$SCRIPT_DIR/helpers.sh"

# Ensure correct permissions if .ssh exists
if [ -d "$HOME/.ssh" ]; then
    chmod 700 "$HOME/.ssh"
    find "$HOME/.ssh" -type f -name "*.pub" -exec chmod 644 {} \;
    find "$HOME/.ssh" -type f ! -name "*.pub" ! -name "known_hosts*" ! -name "config" -exec chmod 600 {} \; 2>/dev/null || true
    log "SSH permissions verified"
else
    log "SSH directory not found (run setup_ssh.sh after install)"
fi
</file>

<file path="scripts/setup_cloud.sh">
#!/bin/sh
# setup_cloud.sh - Initialize rclone bisync for Google Drive
#
# Run this once on each new machine to:
# - Create ~/Cloud directories
# - Perform initial sync (remote ‚Üí local)
# - Install bisync cron jobs
#
# Prerequisites:
# - rclone configured (run setup_rclone.sh first)
# - RCLONE_TEST file exists on each remote drive root
#
# Usage: ./scripts/setup_cloud.sh

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

. "$SCRIPT_DIR/helpers.sh"

CLOUD_DIR="$HOME/Cloud"
CACHE_DIR="$HOME/.cache/rclone"
BISYNC_STATE_DIR="$CACHE_DIR/bisync"
MARKER_DIR="$CACHE_DIR/cloud-init"

# Remotes to sync (must match rclone.conf)
REMOTES="janvv delichtbron penningmeester"

# Bisync options for cron jobs (ongoing sync)
BISYNC_OPTS="--check-access --fast-list --drive-skip-gdocs --resilient --recover --max-lock 10m --timeout 5m -MP"

# Options for initial sync (no --check-access since local is empty, more retries)
RESYNC_OPTS="--fast-list --drive-skip-gdocs --resilient --max-lock 10m --timeout 5m -MP --retries 5 --retries-sleep 30s --low-level-retries 10 -v"

# Check rclone is configured
if [ ! -f "$HOME/.config/rclone/rclone.conf" ]; then
    die "rclone not configured. Run setup_rclone.sh first."
fi

# Create directories
mkdir -p "$CLOUD_DIR"
mkdir -p "$CACHE_DIR"
mkdir -p "$MARKER_DIR"

# Initialize each remote
for remote in $REMOTES; do
    local_dir="$CLOUD_DIR/$remote"
    marker_file="$MARKER_DIR/$remote.done"
    state_pattern="$BISYNC_STATE_DIR/drive-${remote}_*path1.lst"

    # Check if already initialized
    if [ -f "$marker_file" ]; then
        log "[$remote] Already initialized (skipping)"
        continue
    fi

    # Safety check: state files exist but marker missing (cache partially cleared?)
    # shellcheck disable=SC2086
    if ls $state_pattern 1>/dev/null 2>&1; then
        warn "[$remote] State files exist but marker missing - recovering"
        touch "$marker_file"
        log "[$remote] Marker recreated (skipping resync)"
        continue
    fi

    log "[$remote] Creating directory..."
    mkdir -p "$local_dir"

    log "[$remote] Running initial sync (this may take a while)..."
    log "[$remote] Remote files will be downloaded to $local_dir"
    log "[$remote] If interrupted, re-run this script to resume."

    # shellcheck disable=SC2086
    if ! rclone bisync "drive-$remote:/" "$local_dir" --resync $RESYNC_OPTS; then
        warn "[$remote] Initial sync failed or interrupted."
        warn "[$remote] Re-run this script to retry."
        continue
    fi

    # Mark as successfully initialized
    touch "$marker_file"
    log "[$remote] Initial sync complete"
done

# Install cron jobs only for successfully initialized remotes
log "Installing bisync cron jobs..."

add_cron_if_missing() {
    entry="$1"
    pattern="$2"
    if crontab -l 2>/dev/null | grep -qF "$pattern"; then
        log "Cron already exists: $pattern"
    else
        (crontab -l 2>/dev/null || true; echo "$entry") | crontab -
        log "Added cron: $pattern"
    fi
}

# Only add cron for remotes that completed initial sync
if [ -f "$MARKER_DIR/janvv.done" ]; then
    add_cron_if_missing "0,30 * * * * /usr/bin/flock -n /tmp/janvv.lock rclone bisync drive-janvv:/ $CLOUD_DIR/janvv $BISYNC_OPTS >> $CACHE_DIR/bisync-janvv.log 2>&1" "bisync drive-janvv"
fi

if [ -f "$MARKER_DIR/delichtbron.done" ]; then
    add_cron_if_missing "10,40 * * * * /usr/bin/flock -n /tmp/delichtbron.lock rclone bisync drive-delichtbron:/ $CLOUD_DIR/delichtbron $BISYNC_OPTS >> $CACHE_DIR/bisync-delichtbron.log 2>&1" "bisync drive-delichtbron"
fi

if [ -f "$MARKER_DIR/penningmeester.done" ]; then
    add_cron_if_missing "20,50 * * * * /usr/bin/flock -n /tmp/penningmeester.lock rclone bisync drive-penningmeester:/ $CLOUD_DIR/penningmeester $BISYNC_OPTS >> $CACHE_DIR/bisync-penningmeester.log 2>&1" "bisync drive-penningmeester"
fi

# Summary
initialized=$(ls "$MARKER_DIR"/*.done 2>/dev/null | wc -l)
if [ "$initialized" -eq 3 ]; then
    log "Cloud sync setup complete! All 3 drives initialized."
    log "Bisync will run every 30 minutes for each drive."
elif [ "$initialized" -gt 0 ]; then
    log "Partial setup: $initialized/3 drives initialized."
    log "Re-run this script to complete remaining drives."
else
    warn "No drives were initialized. Check errors above."
fi
</file>

<file path="scripts/setup_rclone.sh">
#!/bin/sh
# setup_rclone.sh - Configure rclone remotes for Google Drive
#
# Run this on each new machine to set up Google Drive remotes.
# Each machine authenticates independently (tokens are not shared).
#
# Usage: ./scripts/setup_rclone.sh

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/helpers.sh"

CONFIG_DIR="$HOME/.config/rclone"
CONFIG_FILE="$CONFIG_DIR/rclone.conf"

# Remotes to configure (must match setup_cloud.sh)
REMOTES="janvv delichtbron penningmeester"

mkdir -p "$CONFIG_DIR"

# Check if remote exists in config
remote_exists() {
    remote="$1"
    [ -f "$CONFIG_FILE" ] && grep -q "^\[drive-$remote\]" "$CONFIG_FILE"
}

# Test if remote is working
remote_works() {
    remote="$1"
    rclone lsf "drive-$remote:/" --max-depth 1 >/dev/null 2>&1
}

for remote in $REMOTES; do
    log "[$remote] Checking remote..."

    if ! remote_exists "$remote"; then
        log "[$remote] Not configured. Creating remote..."
        log "[$remote] A browser window will open for Google authentication."
        rclone config create "drive-$remote" drive
    fi

    if remote_works "$remote"; then
        log "[$remote] OK"
    else
        warn "[$remote] Authentication failed or token expired."
        log "[$remote] Re-authenticating..."
        rclone config reconnect "drive-$remote:"
        if remote_works "$remote"; then
            log "[$remote] OK"
        else
            warn "[$remote] Still not working. Check manually with: rclone lsf drive-$remote:/"
        fi
    fi
done

log "Rclone setup complete."
</file>

<file path="README.md">
# MyStrap

My personal implementation of [JanStrap](https://github.com/opajanvv/janstrap) for bootstrapping and maintaining my homelab machines.

## Quick Start

```bash
./install_all.sh              # Run full bootstrap
./install_all.sh --force      # Force re-apply
./install_all.sh --host <name> # Override hostname
```

See [CLAUDE.md](CLAUDE.md) for full documentation.
</file>

<file path="remove_files.txt">
# Files to remove (one per line, full paths)
# Use ~ for home directory - will be expanded automatically
# Comments start with #

# Omarchy WebApps (desktop files)
~/.local/share/applications/Basecamp.desktop
~/.local/share/applications/ChatGPT.desktop
~/.local/share/applications/HEY.desktop
~/.local/share/applications/GitGub.desktop
~/.local/share/applications/Google Contacts.desktop
~/.local/share/applications/Google Messages.desktop
~/.local/share/applications/Google Photos.desktop
~/.local/share/applications/Figma.desktop
~/.local/share/applications/X.desktop
~/.local/share/applications/Youtube.desktop
~/.local/share/applications/Zoom.desktop
</file>

<file path="SSH.md">
# SSH Configuration

SSH keys and config are managed through mystrap with encryption for shared keys.

## Key Types

| Key | Purpose | Storage |
|-----|---------|---------|
| `github` | GitHub access | Encrypted in repo, shared across machines |
| `gitlab` | GitLab access | Encrypted in repo, shared across machines |
| `<hostname>` | Server access | Generated locally, unique per machine |

## Files

```
dotfiles/ssh/.ssh/
  config              # SSH config (stowed)
  github.pub          # Public keys (stowed)
  gitlab.pub
  encrypted/
    github.age        # Encrypted private keys
    gitlab.age

~/.ssh/
  <hostname>          # Machine-specific key (generated locally)
  <hostname>.pub
```

## New Machine Setup

```sh
./install_all.sh            # Stows config and public keys
./scripts/setup_ssh.sh      # Generates machine key, decrypts shared keys
```

Then manually add the machine's public key to `server:~/.ssh/authorized_keys`.

## Encrypting Shared Keys

One-time setup (from a machine that has the keys):

```sh
age -p -o dotfiles/ssh/.ssh/encrypted/github.age ~/.ssh/github
age -p -o dotfiles/ssh/.ssh/encrypted/gitlab.age ~/.ssh/gitlab
```

Use the same passphrase for all keys. Commit the `.age` files to the repo.

## Rotating a Shared Key

1. Generate new key: `ssh-keygen -t ed25519 -f ~/.ssh/github`
2. Register with service (GitHub/GitLab)
3. Encrypt: `age -p -o dotfiles/ssh/.ssh/encrypted/github.age ~/.ssh/github`
4. Update public key: `cp ~/.ssh/github.pub dotfiles/ssh/.ssh/`
5. Commit and push

On other machines, delete the old key and run `setup_ssh.sh` to decrypt the new one.

## Config

The SSH config uses `%L` (local hostname) for the default identity:

```
Host *
  IdentityFile ~/.ssh/%L
```

This automatically uses `~/.ssh/laptop1` on laptop1, `~/.ssh/laptop2` on laptop2, etc.
</file>

<file path="dotfiles/shell/.bashrc">
# If not running interactively, don't do anything (leave this at the top of this file)
[[ $- != *i* ]] && return

# All the default Omarchy aliases and functions
# (don't mess with these directly, just overwrite them here!)
source ~/.local/share/omarchy/default/bash/rc

# Add .local/bin to PATH for user scripts
export PATH="$HOME/.local/bin:$PATH"

# Default editor
export EDITOR=nvim

# SSH agent
if [ -z "$SSH_AUTH_SOCK" ]; then
    eval "$(ssh-agent -s)" > /dev/null
fi
ssh-add -q ~/.ssh/"$(hostname)" 2>/dev/null
ssh-add -q ~/.ssh/github 2>/dev/null
ssh-add -q ~/.ssh/gitlab 2>/dev/null
</file>

<file path="hosts/laptop1/overrides.conf">
# Hyprland overrides for laptop1
# Host-specific monitor configuration

# Default HOME mode: dual monitors (internal left, external right)
monitor=eDP-1,1920x1080@60,0x0,1
monitor=HDMI-A-1,1920x1080@60,1920x0,1

# NVIDIA GPU environment variables
env = NVD_BACKEND,direct
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
</file>

<file path="scripts/install_overrides.sh">
#!/bin/sh
# install_overrides.sh - Install Hyprland overrides

set -eu

# Get script directory
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

# Source helpers
. "$SCRIPT_DIR/helpers.sh"

# Local helper: append line to file if not already present
append_if_absent() {
    file="$1"
    line="$2"

    if grep -qF "$line" "$file"; then
        log "Line already present in $file, skipping"
    else
        echo "$line" >> "$file"
        log "Appended to $file: $line"
    fi
}

HOST=""

# Parse command line arguments
while [ $# -gt 0 ]; do
    case "$1" in
        --host)
            HOST="$2"
            shift 2
            ;;
        *)
            die "Unknown option: $1. Usage: $0 --host <hostname>"
            ;;
    esac
done

if [ -z "$HOST" ]; then
    die "Hostname not specified. Usage: $0 --host <hostname>"
fi

# Override file paths
HOST_OVERRIDES_FILE="$REPO_ROOT/hosts/$HOST/overrides.conf"
COMMON_OVERRIDES_FILE="$REPO_ROOT/overrides.conf"
HYPRLAND_CONFIG="$HOME/.config/hypr/hyprland.conf"

# Source common overrides first (shared across all hosts)
if [ -f "$COMMON_OVERRIDES_FILE" ] && [ -s "$COMMON_OVERRIDES_FILE" ]; then
    append_if_absent "$HYPRLAND_CONFIG" "source = $COMMON_OVERRIDES_FILE"
    log "Using common overrides"
fi

# Source host-specific overrides on top (can override common settings)
if [ -f "$HOST_OVERRIDES_FILE" ] && [ -s "$HOST_OVERRIDES_FILE" ]; then
    append_if_absent "$HYPRLAND_CONFIG" "source = $HOST_OVERRIDES_FILE"
    log "Using host-specific overrides for $HOST"
fi

log "Overrides installed successfully"
</file>

<file path="scripts/setup_passwordless_sudo.sh">
#!/bin/sh
# setup_passwordless_sudo.sh - Configure passwordless sudo for mystrap automation
#
# This script must be run with sudo on each target machine
# Usage: sudo ./scripts/setup_passwordless_sudo.sh

set -eu

# Get script directory
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"

# Source helpers
. "$SCRIPT_DIR/helpers.sh"

# Check if running as root
if [ "$(id -u)" -ne 0 ]; then
    die "This script must be run with sudo"
fi

# Get the actual user (not root)
ACTUAL_USER="${SUDO_USER:-$(whoami)}"

if [ "$ACTUAL_USER" = "root" ]; then
    die "Cannot determine actual user. Please run with sudo, not as root directly"
fi

SUDOERS_FILE="/etc/sudoers.d/mystrap"

log "Creating sudoers file for user: $ACTUAL_USER"

# Create sudoers file
cat > "$SUDOERS_FILE" << EOF
# mystrap - Allow all commands without password for bootstrap automation
# WARNING: Less secure - allows all sudo commands without password
$ACTUAL_USER ALL=(ALL) NOPASSWD: ALL
EOF

# Set correct permissions
chmod 0440 "$SUDOERS_FILE"

log "Sudoers file created: $SUDOERS_FILE"

# Validate sudoers configuration
if visudo -c; then
    log "Sudoers configuration is valid"
    log "Passwordless sudo configured successfully for ALL commands"
else
    die "Sudoers configuration is invalid!"
fi
</file>

<file path="scripts/setup_ssh.sh">
#!/bin/sh
# setup_ssh.sh - One-time SSH setup for a new machine
#
# Run this once on each new machine to:
# - Generate machine-specific SSH key
# - Decrypt shared keys (github, gitlab)
#
# Usage: ./scripts/setup_ssh.sh

set -eu

SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

. "$SCRIPT_DIR/helpers.sh"

MACHINE_NAME=$(hostname)
MACHINE_KEY="$HOME/.ssh/$MACHINE_NAME"
ENCRYPTED_DIR="$REPO_ROOT/dotfiles/ssh/.ssh/encrypted"

# Generate machine-specific key if missing
if [ -f "$MACHINE_KEY" ]; then
    log "Machine key already exists: $MACHINE_KEY"
else
    log "Generating machine-specific SSH key..."
    ssh-keygen -t ed25519 -f "$MACHINE_KEY" -N "" -C "$MACHINE_NAME"
    log "Generated: $MACHINE_KEY"
fi

# Decrypt shared keys (age will prompt for passphrase)
for key in github gitlab; do
    encrypted="$ENCRYPTED_DIR/$key.age"
    target="$HOME/.ssh/$key"

    if [ ! -f "$encrypted" ]; then
        warn "Encrypted key not found: $encrypted (skipping)"
        continue
    fi

    if [ -f "$target" ]; then
        log "Key already exists: $target (skipping)"
        continue
    fi

    log "Decrypting $key (enter age encryption passphrase)..."
    age -d -o "$target" "$encrypted"
    chmod 600 "$target"
done

# Ensure correct permissions
chmod 700 "$HOME/.ssh"
find "$HOME/.ssh" -type f -name "*.pub" -exec chmod 644 {} \;
find "$HOME/.ssh" -type f ! -name "*.pub" ! -name "known_hosts*" ! -name "config" -exec chmod 600 {} \;

log "SSH setup complete!"
log ""
log "Machine public key (add this to server's ~/.ssh/authorized_keys):"
log "---"
cat "$MACHINE_KEY.pub"
log "---"
</file>

<file path="scripts/uninstall_packages.sh">
#!/bin/sh
# uninstall_packages.sh - Uninstall packages from uninstall.txt

set -eu

# Get script directory
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

# Source helpers
. "$SCRIPT_DIR/helpers.sh"

UNINSTALL_FILE="$REPO_ROOT/uninstall.txt"

# Function to read packages from a file
read_packages() {
    file="$1"
    if [ ! -f "$file" ]; then
        return 0
    fi

    while IFS= read -r line || [ -n "$line" ]; do
        # Skip comments and empty lines
        case "$line" in
            \#*|"") continue ;;
        esac

        # Only include package if it's actually installed
        if yay -Q "$line" >/dev/null 2>&1; then
            echo "$line"
        fi
    done < "$file"
}

# Read packages to uninstall
log "Reading packages to uninstall from $UNINSTALL_FILE"
packages=$(read_packages "$UNINSTALL_FILE" | tr '\n' ' ')

if [ -z "$packages" ]; then
    log "No packages to uninstall"
    exit 0
fi

# Uninstall packages with their unused dependencies
log "Uninstalling packages with yay: $packages"
yay -Rns --noconfirm $packages || die "Failed to uninstall packages"

log "Packages uninstalled successfully"
</file>

<file path="CLAUDE.md">
# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Overview

**mystrap** is a personal implementation of the JanStrap framework (from template repository `opajanvv/janstrap`). JanStrap is an idempotent bootstrap system for Omarchy (Arch Linux) workstations that automates package installation, dotfile management, and host-specific configurations.

This repository is in early development, being built incrementally and tested across two homelab machines: `laptop1` and `laptop2`. Additional machines may be added in the future.

## Core Commands

### Main Installation
```bash
./install_all.sh              # Run full bootstrap (auto-pulls git updates)
./install_all.sh --force      # Force re-apply even without updates
./install_all.sh --offline    # Skip git fetch/pull (implies --force)
./install_all.sh --host <name> # Override hostname detection
```

### Individual Components
```bash
./scripts/uninstall_packages.sh  # Uninstall packages from uninstall.txt
./scripts/install_packages.sh    # Install packages from packages.txt
./scripts/install_dotfiles.sh    # Apply dotfiles via GNU Stow
./scripts/install_overrides.sh --host <name>  # Install Hyprland overrides
```

## Architecture

### Bootstrap Process Flow
The `install_all.sh` orchestrates four sequential steps:
1. **Uninstall packages** - Removes unwanted packages (from `uninstall.txt`)
2. **Install packages** - Installs all packages via `yay` (from `packages.txt`)
3. **Install dotfiles** - Applies dotfiles via GNU Stow (from `stow.txt`)
4. **Install overrides** - Applies host-specific Hyprland configs

### Configuration Files
- `packages.txt` - Packages to install (one per line, supports comments)
- `uninstall.txt` - Omarchy bloatware to remove on fresh install
- `stow.txt` - Dotfile packages to stow (corresponds to `dotfiles/` subdirs)

### Directory Structure
```
dotfiles/           # Common dotfiles (applied to all hosts via stow)
  hypr/             # Hyprland base configuration
  waybar/           # Waybar configuration
  shell/            # Shell configs

hosts/              # Host-specific configurations
  <hostname>/
    overrides.conf  # Hyprland overrides (monitors, workspaces, keybindings)
    dotfiles/       # Host-specific dotfiles (optional, applied via stow)

install/            # Post-install scripts (optional)
  <package>.sh      # Runs after <package> is installed
```

### Dotfile Management
- Uses **GNU Stow** to create symlinks from `dotfiles/` to `$HOME`
- Each subdirectory in `dotfiles/` is a "stow package"
- Example: `dotfiles/hypr/.config/hypr/hyprland.conf` ‚Üí `~/.config/hypr/hyprland.conf`
- Supports both common dotfiles and host-specific overrides
- Host-specific dotfiles in `hosts/<hostname>/dotfiles/` override common ones

### Hyprland Override System
- `overrides.conf` is sourced by Hyprland's main config
- Each host has `hosts/<hostname>/overrides.conf` for machine-specific settings
- Used for monitor configurations, workspace assignments, and host-specific keybindings
- Falls back to `overrides.conf` (root level) if host-specific file doesn't exist
- The source line is automatically appended to `~/.config/hypr/hyprland.conf`

### Post-Install Scripts
- Optional scripts in `install/<package>.sh` run after package installation
- Must be executable and match package name exactly
- Must be idempotent (safe to run multiple times)
- Source `scripts/helpers.sh` for utility functions
- Example use cases: enabling systemd services, setting defaults

### Package Management
- Uses `yay` for all package operations (official repos + AUR)
- Install: `yay -S --needed --noconfirm` (in install_packages.sh)
- Uninstall: `yay -Rns --noconfirm` (in uninstall_packages.sh, removes with dependencies)

### Idempotency & Safety
- All scripts are POSIX sh compatible (use `#!/bin/sh`, not bash)
- Git-aware: automatically pulls updates, exits early if none found
- Stow conflict resolution: `stow_package()` removes non-symlink files blocking stow operations
- Post-install scripts should check state before making changes
- Minimal defensive checks - let commands fail naturally with clear errors

## Development Guidelines

### Philosophy
This codebase follows a **ruthless simplification** approach:
- **Trust the caller** - No defensive existence checks for required files/commands
- **Let commands fail naturally** - Clear error messages from tools are sufficient
- **Avoid abstraction** - Only create functions when eliminating substantial duplication
- **No meta-engineering** - Focus on solving actual problems, not building automation infrastructure
- **Keep it simple** - When in doubt, use direct commands over wrappers

### Shell Script Conventions
- Use POSIX sh for maximum compatibility (not bash-specific features)
- Always `set -eu` at the start of scripts
- Source `scripts/helpers.sh` for logging: `log()`, `warn()`, `die()`
- Trust the caller - let commands fail naturally with clear errors
- Use `hostname` command directly (no wrapper)

### Adding New Packages
1. Add package name to `packages.txt`
2. If needed, create executable `install/<package>.sh` for post-install tasks
3. Run `./install_all.sh --force` to test

### Adding New Dotfiles
1. Create directory structure under `dotfiles/<package>/`
2. Add package name to `stow.txt`
3. Test with `./scripts/install_dotfiles.sh`

### Host-Specific Configuration
- Create `hosts/<hostname>/overrides.conf` for Hyprland settings
- Create `hosts/<hostname>/dotfiles/` for host-specific dotfile packages
- Use `hostname` command to detect current host
- Currently configured hosts: `laptop1`, `laptop2`
</file>

<file path="dotfiles/omarchy/.config/omarchy/branding/screensaver.txt">
@@@@@@@@#%@@@@@@@                                              
                                  @@@#               @@@@                                           
                               @@@:                      @@@                                        
                              @@                           @@                                       
                            #@@                             @@@                                     
                           *@@                                @@                                    
                           @@           @@       @@            @@                                   
                          @@                                    @@                                  
                          @-                                    -@           @@@@@@@                
         @@@@@@@@@       #@              @        @              @@     %@@@+        =@@@           
     @@@          @@@    @@              @        @@              @@@=#@@@              @@@@@@@@@@@#
   =@%              @@@@@@@@@@@@@@@@@@@@@@         @@@@@@@@@@@@@@@@::=@@@        @  @@  *@          
%@@@@  @@   @   @.  @#                   @         @@                  -@   @@  @@  #@@  @          
    @  *@   @   @@  @#                  .@          @%                  @@  @@   @  @@@@@@          
    @@@@@@  @@  @@ @@+                  %@          @@                   @@@@@  @@@@@@ +@           
     @- @@@@@@@ @@@@-                   @@          @@                       @@@@                   
          :   @@@                       @@           @@                                             
                                        @@           @#                                             
                                        =@           @@                                             
                                         @           @@                                             
                                         @@          @@                                             
                                          @@        @@                                              
                                           @@@@@@@@@@
</file>

<file path="hosts/laptop2/overrides.conf">
# Hyprland overrides for laptop2
# Host-specific monitor configuration
# Based on https://opa.janvv.nl/blog/2025-10-24-omarchy-dual-monitors

env = GDK_SCALE,2

# Default HOME mode: dual monitors (external left of internal)
monitor=HDMI-A-1,1920x1080@60,1366x0,1
monitor=eDP-1,1366x768@60,0x0,1
</file>

<file path="scripts/install_packages.sh">
#!/bin/sh
# install_packages.sh - Install packages from packages.txt

set -eu

# Get script directory
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

# Source helpers
. "$SCRIPT_DIR/helpers.sh"

PACKAGES_FILE="$REPO_ROOT/packages.txt"

# Function to read all packages from a file
read_all_packages() {
    file="$1"

    while IFS= read -r line || [ -n "$line" ]; do
        # Skip comments and empty lines
        case "$line" in
            \#*|"") continue ;;
        esac
        echo "$line"
    done < "$file"
}

# Function to read packages that need installation
read_packages_to_install() {
    file="$1"

    while IFS= read -r line || [ -n "$line" ]; do
        # Skip comments and empty lines
        case "$line" in
            \#*|"") continue ;;
        esac

        # Only include package if it's NOT already installed
        if ! yay -Q "$line" >/dev/null 2>&1; then
            echo "$line"
        fi
    done < "$file"
}

# Read all packages for post-install scripts
all_packages=$(read_all_packages "$PACKAGES_FILE" | tr '\n' ' ')

# Read packages that need installation
log "Reading packages from $PACKAGES_FILE"
packages_to_install=$(read_packages_to_install "$PACKAGES_FILE" | tr '\n' ' ')

# Install packages that aren't already installed
if [ -n "$packages_to_install" ]; then
    log "Installing packages with yay: $packages_to_install"
    yay -S --needed --noconfirm $packages_to_install || die "Failed to install packages"
    log "Packages installed successfully"
else
    log "All packages already installed"
fi

# Run post-install scripts for ALL packages (not just newly installed)
log "Checking for post-install scripts..."

# Process each package for post-install scripts
for package in $all_packages; do
    script_path="$REPO_ROOT/install/${package}.sh"
    if [ -f "$script_path" ] && [ -x "$script_path" ]; then
        log "Running post-install script: $script_path"
        "$script_path" || warn "Post-install script failed: $script_path"
    fi
done

log "Post-install scripts completed"
</file>

<file path="SETUP.md">
# New Machine Setup

Checklist for bootstrapping a fresh Omarchy workstation.

## Prerequisites

- [ ] Omarchy installed
- [ ] WiFi configured (prompted on first boot)
- [ ] Omarchy updated (prompted on first boot)

## Steps

```sh
# 1. Create restore point
sudo snapper create -d "Fresh Omarchy install"

# 2. Clone mystrap
git clone https://github.com/opajanvv/mystrap
cd mystrap

# 3. Set up passwordless sudo
sudo ./scripts/setup_passwordless_sudo.sh

# 4. Run bootstrap
./install_all.sh --force

# 5. Set up SSH keys
./scripts/setup_ssh.sh

# 6. Set up rclone (decrypt config)
./scripts/setup_rclone.sh

# 7. Set up Google Drive sync (may take hours on first run)
./scripts/setup_cloud.sh
```

## Post-setup

- [ ] Add machine's public key to `server:~/.ssh/authorized_keys`
      (Tip: use Proxmox web UI shell at https://server:8006 to paste the key)
- [ ] Test SSH: `ssh server`
- [ ] Re-source shell: `source ~/.bashrc` (or restart terminal)

## First Machine Only

If this is the first machine (encrypted secrets don't exist in repo yet):

### SSH Keys
```sh
# Encrypt existing keys with your chosen passphrase
age -p -o dotfiles/ssh/.ssh/encrypted/github.age ~/.ssh/github
age -p -o dotfiles/ssh/.ssh/encrypted/gitlab.age ~/.ssh/gitlab

# Commit and push
git add dotfiles/ssh/.ssh/encrypted/
git commit -m "Add encrypted SSH keys"
git push
```

### Rclone Config
```sh
# Encrypt existing rclone config
age -p -o dotfiles/rclone/.config/rclone/rclone.conf.age ~/.config/rclone/rclone.conf

# Commit and push
git add dotfiles/rclone/.config/rclone/rclone.conf.age
git commit -m "Add encrypted rclone config"
git push
```

### Google Drive
Ensure each remote drive has a `RCLONE_TEST` file in its root (required by `--check-access`).
</file>

<file path="install/hyprland.sh">
#!/bin/sh
# Post-install script for hyprland
# Installs and enables split-monitor-workspaces plugin
# Creates initial workspace configuration symlink

set -eu

# Source helpers for logging
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/../scripts/helpers.sh" 2>/dev/null || . "$(dirname "$SCRIPT_DIR")/scripts/helpers.sh"

log "Updating hyprpm..."
hyprpm update || warn "Failed to update hyprpm"

# Check if plugin is already added
PLUGIN_URL="https://github.com/Duckonaut/split-monitor-workspaces"
if hyprpm list | grep -q "split-monitor-workspaces"; then
    log "Plugin already installed"
else
    log "Installing split-monitor-workspaces plugin..."
    yes | hyprpm add "$PLUGIN_URL" || die "Failed to install plugin"
fi

# Enable plugin
log "Enabling split-monitor-workspaces plugin..."
hyprpm enable split-monitor-workspaces || warn "Failed to enable plugin"

# Create initial workspaces-current.conf symlink (default to dual mode)
WS_CURRENT="$HOME/.config/hypr/workspaces-current.conf"
WS_DUAL="$HOME/.config/hypr/workspaces-dual.conf"

if [ ! -e "$WS_CURRENT" ]; then
    log "Creating initial workspace configuration symlink (dual mode)..."
    ln -sf "$WS_DUAL" "$WS_CURRENT"
else
    log "Workspace configuration symlink already exists"
fi

log "Hyprland plugin setup complete"
</file>

<file path="scripts/install_dotfiles.sh">
#!/bin/sh
# install_dotfiles.sh - Install dotfiles using GNU Stow

set -eu

# Get script directory
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
REPO_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

# Source helpers
. "$SCRIPT_DIR/helpers.sh"

STOW_FILE="$REPO_ROOT/stow.txt"
DOTFILES_DIR="$REPO_ROOT/dotfiles"

# Local helper: stow a package with conflict resolution
stow_package() {
    stow_dir="$1"
    package="$2"

    log "Stowing $package..."

    # Try to stow - capture output to detect conflicts
    stow_output=$(stow -d "$stow_dir" -t "$HOME" --no-folding --restow "$package" 2>&1) || stow_failed=true

    # If stow failed, check for conflicts and handle them
    if [ "${stow_failed:-false}" = "true" ]; then
        # Parse conflict errors and remove non-symlink files
        echo "$stow_output" | grep "existing target" | while IFS= read -r line; do
            # Extract the target path (format: "...existing target PATH since...")
            target=$(echo "$line" | sed -n 's/.*existing target \(.*\) since.*/\1/p')
            if [ -n "$target" ]; then
                target_path="$HOME/$target"
                # Only remove if it's a regular file (not a symlink or directory)
                if [ -f "$target_path" ] && [ ! -L "$target_path" ]; then
                    log "  Removing conflicting file: $target"
                    rm "$target_path"
                fi
            fi
        done

        # Retry stow after removing conflicts
        log "  Retrying stow for $package..."
        stow -d "$stow_dir" -t "$HOME" --no-folding --restow "$package" || warn "Failed to stow $package"
        unset stow_failed
    fi
}

# Read and stow packages from stow.txt
while IFS= read -r package || [ -n "$package" ]; do
    # Skip comments and empty lines
    case "$package" in
        \#*|"") continue ;;
    esac

    stow_package "$DOTFILES_DIR" "$package"
done < "$STOW_FILE"

log "Common dotfiles installed successfully"

# Install host-specific dotfiles if they exist
HOST=$(hostname)
HOST_DOTFILES_DIR="$REPO_ROOT/hosts/$HOST/dotfiles"

if [ -d "$HOST_DOTFILES_DIR" ]; then
    log "Installing host-specific dotfiles for $HOST..."

    # Find all packages in host dotfiles directory
    for package_dir in "$HOST_DOTFILES_DIR"/*; do
        [ -d "$package_dir" ] || continue
        stow_package "$HOST_DOTFILES_DIR" "$(basename "$package_dir")"
    done

    log "Host-specific dotfiles installed successfully"
else
    log "No host-specific dotfiles found for $HOST (skipping)"
fi
</file>

<file path="uninstall.txt">
# Omarchy bloatware to remove on fresh install
# These packages ship with Omarchy but aren't needed
omarchy-chromium
typora
1password-cli
1password-beta
</file>

<file path="install_all.sh">
#!/bin/sh
# install_all.sh - Main entry point for Phoenix bootstrap system
# Orchestrates the installation process for workstation setup

set -eu

# Get script directory
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
SCRIPTS_DIR="$SCRIPT_DIR/scripts"

# Source helpers
. "$SCRIPTS_DIR/helpers.sh"

FORCE=false
OFFLINE=false
HOST=""

# Parse command line arguments
while [ $# -gt 0 ]; do
    case "$1" in
        -f|--force)
            FORCE=true
            shift
            ;;
        --offline)
            OFFLINE=true
            FORCE=true  # offline implies force (skip update check)
            shift
            ;;
        --host)
            HOST="$2"
            shift 2
            ;;
        *)
            die "Unknown option: $1. Usage: $0 [-f|--force] [--offline] [--host <hostname>]"
            ;;
    esac
done

# Detect hostname
if [ -z "$HOST" ]; then
    HOST=$(hostname)
fi

log "Detected hostname: $HOST"

# Sync with remote (unless offline mode)
HAS_UPDATES=false
cd "$SCRIPT_DIR"

if [ "$OFFLINE" = "true" ]; then
    log "Offline mode: skipping git sync"
else
    # Auto-commit local changes (dotfile edits from this machine)
    if ! git diff --quiet || ! git diff --cached --quiet; then
        log "Local changes detected, auto-committing..."
        git add -A
        git commit -m "Auto-sync dotfiles from $HOST"
    fi

    # Check for remote updates
    git fetch -q || true
    current_head=$(git rev-parse HEAD || echo "")
    remote_head=$(git rev-parse @{u} || echo "")

    if [ -n "$current_head" ] && [ -n "$remote_head" ] && [ "$current_head" != "$remote_head" ]; then
        HAS_UPDATES=true
        log "Syncing with remote..."
        git pull --rebase || warn "Failed to pull updates, continuing anyway"
    else
        log "Repository is already up to date"
    fi

    # Push local commits (including auto-commits)
    if git status | grep -q "Your branch is ahead"; then
        log "Pushing local changes..."
        git push || warn "Failed to push, will retry next run"
    fi
fi

# Exit early if no updates and not forced
if [ "$HAS_UPDATES" = "false" ] && [ "$FORCE" = "false" ]; then
    log "No updates found. Use -f or --force to re-apply everything anyway."
    exit 0
fi

# Run installation scripts in order
log "Starting installation process..."

# 1. Remove unwanted files
log "Step 1/8: Removing unwanted files..."
"$SCRIPTS_DIR/remove_files.sh" || die "File removal failed"

# 2. Uninstall packages
log "Step 2/8: Uninstalling packages..."
"$SCRIPTS_DIR/uninstall_packages.sh" || die "Packages uninstallation failed"

# 3. Install packages
log "Step 3/8: Installing packages..."
"$SCRIPTS_DIR/install_packages.sh" || die "Packages installation failed"

# 4. Install Claude Code
log "Step 4/8: Installing Claude Code..."
"$SCRIPTS_DIR/install_claude_code.sh" || die "Claude Code installation failed"

# 5. Install cron job
log "Step 5/8: Installing cron job..."
"$SCRIPTS_DIR/install_cron.sh" || die "Cron job installation failed"

# 6. Install dotfiles
log "Step 6/8: Installing dotfiles..."
"$SCRIPTS_DIR/install_dotfiles.sh" || die "Dotfiles installation failed"

# 7. Install SSH keys
log "Step 7/8: Installing SSH keys..."
"$SCRIPTS_DIR/install_ssh.sh" || die "SSH key installation failed"

# 8. Install Hyprland overrides (host-specific)
log "Step 8/8: Installing Hyprland overrides..."
"$SCRIPTS_DIR/install_overrides.sh" --host "$HOST" || die "Overrides installation failed"

log "Installation complete!"
</file>

<file path="install/ttyd.sh">
#!/bin/sh
# Post-install script for ttyd
# Sets up ttyd as a systemd user service running on port 4711

set -eu

# Source helpers for logging
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
. "$SCRIPT_DIR/../scripts/helpers.sh" 2>/dev/null || . "$(dirname "$SCRIPT_DIR")/scripts/helpers.sh"

# Get current user (the one running the installer)
CURRENT_USER="${SUDO_USER:-${USER}}"

# Create/update systemd user service file
USER_SERVICE_DIR="/home/$CURRENT_USER/.config/systemd/user"
SERVICE_FILE="$USER_SERVICE_DIR/ttyd.service"

# Ensure user service directory exists
if [ ! -d "$USER_SERVICE_DIR" ]; then
    log "Creating user systemd directory..."
    mkdir -p "$USER_SERVICE_DIR"
fi

SERVICE_CONTENT='[Unit]
Description=ttyd - Share your terminal over the web
Documentation=https://github.com/tsl0922/ttyd
After=network.target

[Service]
Type=simple
ExecStart=/usr/bin/ttyd -p 4711 -W /bin/bash
Restart=on-failure
RestartSec=5s

[Install]
WantedBy=default.target'

# Check if service file needs updating
NEEDS_UPDATE=false
if [ ! -f "$SERVICE_FILE" ]; then
    NEEDS_UPDATE=true
    log "Creating systemd service file..."
elif ! echo "$SERVICE_CONTENT" | diff -q - "$SERVICE_FILE" >/dev/null 2>&1; then
    NEEDS_UPDATE=true
    log "Updating systemd service file..."
else
    log "Systemd service file is up to date"
fi

if [ "$NEEDS_UPDATE" = "true" ]; then
    echo "$SERVICE_CONTENT" | tee "$SERVICE_FILE" >/dev/null
fi

# Reload systemd user daemon
log "Reloading systemd user daemon..."
systemctl --user daemon-reload

# Enable linger for user (allows user services to run without login)
if ! loginctl show-user "$CURRENT_USER" | grep -q "Linger=yes"; then
    log "Enabling linger for user $CURRENT_USER..."
    sudo loginctl enable-linger "$CURRENT_USER"
fi

# Enable service if not already enabled
if ! systemctl --user is-enabled ttyd.service >/dev/null 2>&1; then
    log "Enabling ttyd.service..."
    systemctl --user enable ttyd.service
else
    log "ttyd.service already enabled"
fi

# Start or restart service
if [ "$NEEDS_UPDATE" = "true" ] && systemctl --user is-active ttyd.service >/dev/null 2>&1; then
    log "Restarting ttyd.service..."
    systemctl --user restart ttyd.service
elif ! systemctl --user is-active ttyd.service >/dev/null 2>&1; then
    log "Starting ttyd.service..."
    systemctl --user start ttyd.service
else
    log "ttyd.service already running"
fi

# Configure firewall (if ufw is available)
# Check if ufw is active
if sudo ufw status 2>/dev/null | grep -q "Status: active"; then
    # Check if port is already open
    if ! sudo ufw status | grep -q "4711/tcp"; then
        log "Opening port 4711/tcp in firewall..."
        sudo ufw allow 4711/tcp
    else
        log "Port 4711/tcp already open in firewall"
    fi
else
    log "ufw not active or not installed, skipping firewall configuration"
fi

log "ttyd service setup complete"
log "Access ttyd at: http://localhost:4711"
</file>

<file path="overrides.conf">
# Common Hyprland overrides for all workstations
# This file is automatically sourced by ~/.config/hypr/hyprland.conf
# Host-specific overrides in hosts/<hostname>/overrides.conf take precedence

# Source workspace configuration (dual or single mode)
source = ~/.config/hypr/workspaces-current.conf

# Remove unwanted application bindings
unbind = SUPER SHIFT, W
unbind = SUPER SHIFT, P
unbind = SUPER SHIFT, X
unbind = SUPER SHIFT ALT, X
unbind = SUPER SHIFT, Y

# Keybindings for hypr-switch (monitor mode switching)
unbind = SUPER, F1
unbind = SUPER, F2
unbind = SUPER, F3
unbind = SUPER SHIFT, F1
unbind = SUPER SHIFT, F2
unbind = SUPER SHIFT, F3
bindd = SUPER, F1, Single Screen, exec, ~/.local/bin/hypr-switch laptop
bindd = SUPER, F2, Dual Screen, exec, ~/.local/bin/hypr-switch home
bindd = SUPER, F3, Mirrored Screen, exec, ~/.local/bin/hypr-switch presenter
bindd = SUPER SHIFT, F1, Force Single Screen, exec, ~/.local/bin/hypr-switch laptop -f
bindd = SUPER SHIFT, F2, Force Dual Screen, exec, ~/.local/bin/hypr-switch home -f
bindd = SUPER SHIFT, F3, Force Mirrored Screen, exec, ~/.local/bin/hypr-switch presenter -f

# Keybindings for Chrome
$chromeScript = ~/.local/bin/chrome
$private = Default
$lichtbron = Profile\ 1
$treasurer = Profile\ 2
unbind = SUPER HOME
unbind = SUPER SHIFT, HOME
unbind = SUPER CTRL, HOME
bind = SUPER, HOME, exec, $chromeScript $private
bind = SUPER CTRL, HOME, exec, $chromeScript $lichtbron
bind = SUPER SHIFT, HOME, exec, $chromeScript $treasurer
</file>

<file path="stow.txt">
# Common dotfiles to stow
waybar
hypr
shell
git
omarchy
OrcaSlicer
chrome
ssh
OpenSCAD
alacritty
discord
fastfetch
nvim
teamviewer
walker
claude
</file>

<file path="packages.txt">
# Common packages for all workstations
stow
cronie
age
lynx
google-chrome
croc
mc
cmake
meson
cpio
hyprland
ttyd
mousepad
bind
dhclient
npm
rsync
vi
gimp
systemd
orca-slicer-bin
ttf-cascadia-mono-nerd
openscad
discord
rclone
teamviewer-bin
usbutils
php
php-gd
</file>

</files>
